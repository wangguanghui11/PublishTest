(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2a281300"],{"10c1":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",[a("page-filter",{ref:"pageFilter",attrs:{loading:e.tableLoading},on:{"on-filter-apply":e.onFilterApply}})],1),a("div",{attrs:{id:"mainItem"}},[a("Row",{staticClass:"contentsItem"},[a("Card",{attrs:{shadow:""}},[a("div",{staticStyle:{width:"100%",height:"auto",overflow:"hidden"}},[a("chart-group",{ref:"chartGroup",attrs:{"known-fields":e.mediabuy_creative_data_fields,"all-chart-groups":e.chartGroups,"default-chart-groups":e.defaultChartGroups},on:{"on-chart-group-change":e.handleChartGroupChange,"on-chart-group-refresh":e.handleChartGroupRefresh}}),a("div",{staticClass:"checkBoxItemRight"},[a("Checkbox",{staticStyle:{"font-size":"14px","margin-right":"40px"},on:{"on-change":e.changeCheckbox},model:{value:e.checkStatus,callback:function(t){e.checkStatus=t},expression:"checkStatus"}},[e._v("显示数字标签")]),e.visible?a("a",{on:{click:e.previewFun}},[e._v("点击预览")]):e._e(),a("Tooltip",{attrs:{content:"关闭预览"}},[a("Button",{attrs:{id:"closeBtn"},on:{click:e.closeFun}},[e._v("X")])],1)],1)],1),a("Tabs",{attrs:{animated:!1},on:{"on-click":e.changeTabs},model:{value:e.tabItem,callback:function(t){e.tabItem=t},expression:"tabItem"}},[a("TabPane",{attrs:{label:"Spend",name:"name1"}},["name1"===e.tabItem?a("group-line-chart",{ref:"child",attrs:{"field-formaters":e.field_formaters,"known-fields":e.mediabuy_creative_data_fields,"chart-data":e.lineChartData[0],status:e.checkStatus,previewStatus:e.previewStatus}}):e._e()],1),a("TabPane",{attrs:{label:"Installs",name:"name2"}},["name2"===e.tabItem?a("group-line-chart",{ref:"child",attrs:{"field-formaters":e.field_formaters,"known-fields":e.mediabuy_creative_data_fields,"chart-data":e.lineChartData[1],status:e.checkStatus,previewStatus:e.previewStatus}}):e._e()],1),a("TabPane",{attrs:{label:"买量CPI",name:"name3"}},["name3"===e.tabItem?a("group-line-chart",{ref:"child",attrs:{"field-formaters":e.field_formaters,"known-fields":e.mediabuy_creative_data_fields,"chart-data":e.lineChartData[2],status:e.checkStatus,previewStatus:e.previewStatus}}):e._e()],1),a("TabPane",{attrs:{label:"CTR",name:"name4"}},["name4"===e.tabItem?a("group-line-chart",{ref:"child",attrs:{"field-formaters":e.field_formaters,"known-fields":e.mediabuy_creative_data_fields,"chart-data":e.lineChartData[3],status:e.checkStatus,previewStatus:e.previewStatus}}):e._e()],1),a("TabPane",{attrs:{label:"CVR",name:"name5"}},["name5"===e.tabItem?a("group-line-chart",{ref:"child",attrs:{"field-formaters":e.field_formaters,"known-fields":e.mediabuy_creative_data_fields,"chart-data":e.lineChartData[4],status:e.checkStatus,previewStatus:e.previewStatus}}):e._e()],1),a("TabPane",{attrs:{label:"IPM",name:"name6"}},["name6"===e.tabItem?a("group-line-chart",{ref:"child",attrs:{"field-formaters":e.field_formaters,"known-fields":e.mediabuy_creative_data_fields,"chart-data":e.lineChartData[5],status:e.checkStatus,previewStatus:e.previewStatus}}):e._e()],1),a("TabPane",{attrs:{label:"CPM",name:"name7"}},["name7"===e.tabItem?a("group-line-chart",{ref:"child",attrs:{"field-formaters":e.field_formaters,"known-fields":e.mediabuy_creative_data_fields,"chart-data":e.lineChartData[6],status:e.checkStatus,previewStatus:e.previewStatus}}):e._e()],1)],1)],1),e.chartLoading?a("Spin",{attrs:{size:"large",fix:""}}):e._e()],1)],1),a("Row",{staticStyle:{"margin-top":"5px"}},[a("Card",{attrs:{shadow:""}},[a("table-data",{ref:"table",attrs:{data:e.tableData,"table-loading":e.tableLoading,days:e.days,"all-app":e.allApp,"footer-data":e.totalData,"page-reset":e.pageReset,"page-data":e.pageData,"field-formaters":e.field_formaters,"known-fields":e.mediabuy_creative_data_fields,dimensions:e.currDimensions,metrics:e.metrics,"default-dimensions":e.defaultDimensions,"all-dimensions":e.allDimensions,"all-metrics":e.allMetrics,"sync-dimensions":e.syncDimensions,"sync-metrics":e.syncMetrics,"page-rooter":"mediabuyCreativeData","search-tag":e.searchTag},on:{"on-sort-change":e.handleSortChange,"metrics-ok":e.metricsOk,"on-table-refresh":e.handleTableRefresh,"on-download":e.download,"on-page-change":e.pageChange,"on-page-size-change":e.pageSizeChange,"on-page-reset-true":e.pageResetFalse,"on-dimensions-change":e.handleDimensionsChange,"on-set-dimensions":e.handleSetDimensions,"on-click-cell":e.handleClickVideoName}})],1),e.downloadLoading?a("Spin",{attrs:{size:"large",fix:""}}):e._e()],1)],1)},i=[],r=(a("8e6e"),a("456d"),a("20d6"),a("ac6a"),a("5df3"),a("ade3")),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Card",{ref:"filter",staticClass:"filter-selection"},[a("div",[a("a-select",{staticClass:"inline-width",staticStyle:{"font-size":"12px"},attrs:{mode:"multiple",allowClear:"",filterable:"",showArrow:"",autoClearSearchValue:!1,"max-tag-count":this.maxTagArr[0],"max-tag-text-length":this.maxTagTextArr[0],placeholder:"项目组-全部",optionFilterProp:"children"},on:{focus:function(t){return e.focusFun(0)},blur:function(t){return e.blurFun()},change:e.projectsChange,mouseenter:function(t){return e.mouseenterFun(0)},mouseleave:function(t){return e.mouseleaveFun()}},scopedSlots:e._u([{key:"dropdownRender",fn:function(t){return a("div",{},[a("v-nodes",{attrs:{vnodes:t}}),a("a-divider",{staticClass:"select-all-divider"}),a("div",{staticClass:"select-all-div",on:{mousedown:function(e){return e.preventDefault()}}},[a("span",{staticClass:"select-all-span"},[e._v(e._s(e.projects.length)+"/"+e._s(e.allProjects.length))]),a("Button",{attrs:{type:"primary"},on:{click:function(t){e.projects=e.allProjects}}},[e._v("全选")])],1)],1)}}]),model:{value:e.projects,callback:function(t){e.projects=t},expression:"projects"}},e._l(e.allProjects,(function(t){return a("a-option",{key:t,attrs:{value:t}},[e._v(e._s(t)+"\n      ")])})),1),a("a-select",{staticClass:"inline-width",staticStyle:{"font-size":"12px"},attrs:{mode:"multiple",allowClear:"",filterable:"",showArrow:"",autoClearSearchValue:!1,"max-tag-count":this.maxTagArr[1],"max-tag-text-length":this.maxTagTextArr[1],placeholder:"App分类-全部",optionFilterProp:"children"},on:{focus:function(t){return e.focusFun(1)},blur:function(t){return e.blurFun()},change:e.appTypeChange,mouseenter:function(t){return e.mouseenterFun(1)},mouseleave:function(t){return e.mouseleaveFun()}},scopedSlots:e._u([{key:"dropdownRender",fn:function(t){return a("div",{},[a("v-nodes",{attrs:{vnodes:t}}),a("a-divider",{staticClass:"select-all-divider"}),a("div",{staticClass:"select-all-div",on:{mousedown:function(e){return e.preventDefault()}}},[a("span",{staticClass:"select-all-span"},[e._v(e._s(e.appTypes.length)+"/"+e._s(e.canSelectAllAppType.length))]),a("Button",{attrs:{type:"primary"},on:{click:function(t){e.appTypes=e.canSelectAllAppType.map((function(e){return e.id}))}}},[e._v("全选")])],1)],1)}}]),model:{value:e.appTypes,callback:function(t){e.appTypes=t},expression:"appTypes"}},e._l(e.canSelectAllAppType,(function(t){return a("a-option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.name)+"\n      ")])})),1),a("a-select",{staticClass:"inline-width",staticStyle:{"font-size":"12px"},attrs:{mode:"multiple",allowClear:"",filterable:"",showArrow:"",autoClearSearchValue:!1,"max-tag-count":this.maxTagArr[2],"max-tag-text-length":this.maxTagTextArr[2],placeholder:"App-全部",optionFilterProp:"children"},on:{focus:function(t){return e.focusFun(2)},blur:function(t){return e.blurFun()},mouseenter:function(t){return e.mouseenterFun(2)},mouseleave:function(t){return e.mouseleaveFun()}},scopedSlots:e._u([{key:"dropdownRender",fn:function(t){return a("div",{},[a("v-nodes",{attrs:{vnodes:t}}),a("a-divider",{staticClass:"select-all-divider"}),a("div",{staticClass:"select-all-div",on:{mousedown:function(e){return e.preventDefault()}}},[a("span",{staticClass:"select-all-span"},[e._v(e._s(e.apps.length)+"/"+e._s(e.canSelectAllApp.length))]),a("Button",{attrs:{type:"primary"},on:{click:function(t){e.apps=e.canSelectAllApp.map((function(e){return e.app_id}))}}},[e._v("全选")])],1)],1)}}]),model:{value:e.apps,callback:function(t){e.apps=t},expression:"apps"}},e._l(e.canSelectAllApp,(function(t){return a("a-option",{key:t.app_id,attrs:{value:t.app_id}},[e._v(e._s(t.app_name)+"\n      ")])})),1),a("a-select",{staticClass:"inline-width",staticStyle:{"font-size":"12px"},attrs:{mode:"multiple",allowClear:"",filterable:"",showArrow:"",autoClearSearchValue:!1,"max-tag-count":this.maxTagArr[3],"max-tag-text-length":this.maxTagTextArr[3],placeholder:"MediaSource-全部",optionFilterProp:"children"},on:{focus:function(t){return e.focusFun(3)},blur:function(t){return e.blurFun()},mouseenter:function(t){return e.mouseenterFun(3)},mouseleave:function(t){return e.mouseleaveFun()}},scopedSlots:e._u([{key:"dropdownRender",fn:function(t){return a("div",{},[a("v-nodes",{attrs:{vnodes:t}}),a("a-divider",{staticClass:"select-all-divider"}),a("div",{staticClass:"select-all-div",on:{mousedown:function(e){return e.preventDefault()}}},[a("span",{staticClass:"select-all-span"},[e._v(e._s(e.mediaSources.length)+"/"+e._s(e.allMediaSources.length))]),a("Button",{attrs:{type:"primary"},on:{click:function(t){e.mediaSources=e.allMediaSources.map((function(e){return e.id}))}}},[e._v("全选")])],1)],1)}}]),model:{value:e.mediaSources,callback:function(t){e.mediaSources=t},expression:"mediaSources"}},e._l(e.allMediaSources,(function(t){return a("a-option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.name)+"\n      ")])})),1),a("a-select",{staticClass:"inline-width",staticStyle:{"font-size":"12px"},attrs:{mode:"multiple",allowClear:"",filterable:"",showArrow:"",autoClearSearchValue:!1,"max-tag-count":this.maxTagArr[4],"max-tag-text-length":this.maxTagTextArr[4],placeholder:"素材类型-全部",optionFilterProp:"children"},on:{focus:function(t){return e.focusFun(4)},blur:function(t){return e.blurFun()},mouseenter:function(t){return e.mouseenterFun(4)},mouseleave:function(t){return e.mouseleaveFun()}},scopedSlots:e._u([{key:"dropdownRender",fn:function(t){return a("div",{},[a("v-nodes",{attrs:{vnodes:t}}),a("a-divider",{staticClass:"select-all-divider"}),a("div",{staticClass:"select-all-div",on:{mousedown:function(e){return e.preventDefault()}}},[a("span",{staticClass:"select-all-span"},[e._v(e._s(e.materialTypes.length)+"/"+e._s(e.allMaterialType.length))]),a("Button",{attrs:{type:"primary"},on:{click:function(t){e.materialTypes=e.allMaterialType.map((function(e){return e.id}))}}},[e._v("全选")])],1)],1)}}]),model:{value:e.materialTypes,callback:function(t){e.materialTypes=t},expression:"materialTypes"}},e._l(e.allMaterialType,(function(t){return a("a-option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.name)+"\n      ")])})),1),a("a-select",{staticClass:"inline-width",staticStyle:{"font-size":"12px"},attrs:{mode:"multiple",allowClear:"",filterable:"",showArrow:"",autoClearSearchValue:!1,"max-tag-count":this.maxTagArr[5],"max-tag-text-length":this.maxTagTextArr[5],placeholder:"设计师-全部",optionFilterProp:"children"},on:{focus:function(t){return e.focusFun(5)},blur:function(t){return e.blurFun()},mouseenter:function(t){return e.mouseenterFun(5)},mouseleave:function(t){return e.mouseleaveFun()}},scopedSlots:e._u([{key:"dropdownRender",fn:function(t){return a("div",{},[a("v-nodes",{attrs:{vnodes:t}}),a("a-divider",{staticClass:"select-all-divider"}),a("div",{staticClass:"select-all-div",on:{mousedown:function(e){return e.preventDefault()}}},[a("span",{staticClass:"select-all-span"},[e._v(e._s(e.designers.length)+"/"+e._s(e.allDesigners.length))]),a("Button",{attrs:{type:"primary"},on:{click:function(t){e.designers=e.allDesigners.map((function(e){return e.name}))}}},[e._v("全选")])],1)],1)}}]),model:{value:e.designers,callback:function(t){e.designers=t},expression:"designers"}},e._l(e.allDesigners,(function(t){return a("a-option",{key:t.name,attrs:{value:t.name}},[e._v(e._s(t.name)+"\n      ")])})),1),a("a-select",{staticClass:"inline-width",staticStyle:{"font-size":"12px"},attrs:{mode:"multiple",allowClear:"",filterable:"",showArrow:"",autoClearSearchValue:!1,"max-tag-count":this.maxTagArr[6],"max-tag-text-length":this.maxTagTextArr[6],placeholder:"创意提出人-全部",optionFilterProp:"children"},on:{focus:function(t){return e.focusFun(6)},blur:function(t){return e.blurFun()},mouseenter:function(t){return e.mouseenterFun(6)},mouseleave:function(t){return e.mouseleaveFun()}},scopedSlots:e._u([{key:"dropdownRender",fn:function(t){return a("div",{},[a("v-nodes",{attrs:{vnodes:t}}),a("a-divider",{staticClass:"select-all-divider"}),a("div",{staticClass:"select-all-div",on:{mousedown:function(e){return e.preventDefault()}}},[a("span",{staticClass:"select-all-span"},[e._v(e._s(e.proposers.length)+"/"+e._s(e.allProposer.length))]),a("Button",{attrs:{type:"primary"},on:{click:function(t){e.proposers=e.allProposer}}},[e._v("全选")])],1)],1)}}]),model:{value:e.proposers,callback:function(t){e.proposers=t},expression:"proposers"}},e._l(e.allProposer,(function(t){return a("a-option",{key:t,attrs:{value:t}},[e._v(e._s(t)+"\n      ")])})),1),a("a-select",{staticClass:"inline-width",staticStyle:{"font-size":"12px"},attrs:{mode:"multiple",allowClear:"",filterable:"",showArrow:"",autoClearSearchValue:!1,"max-tag-count":this.maxTagArr[7],"max-tag-text-length":this.maxTagTextArr[7],placeholder:"受众类型-全部",optionFilterProp:"children"},on:{focus:function(t){return e.focusFun(7)},blur:function(t){return e.blurFun()},mouseenter:function(t){return e.mouseenterFun(7)},mouseleave:function(t){return e.mouseleaveFun()}},scopedSlots:e._u([{key:"dropdownRender",fn:function(t){return a("div",{},[a("v-nodes",{attrs:{vnodes:t}}),a("a-divider",{staticClass:"select-all-divider"}),a("div",{staticClass:"select-all-div",on:{mousedown:function(e){return e.preventDefault()}}},[a("span",{staticClass:"select-all-span"},[e._v(e._s(e.audience.length)+"/"+e._s(e.allAudience.length))]),a("Button",{attrs:{type:"primary"},on:{click:function(t){e.audience=e.allAudience.map((function(t){return e.geyAudienceKey(t)}))}}},[e._v("全选")])],1)],1)}}]),model:{value:e.audience,callback:function(t){e.audience=t},expression:"audience"}},e._l(e.allAudience,(function(t){return a("a-option",{key:t,attrs:{value:e.geyAudienceKey(t)}},[e._v(e._s(t)+"\n      ")])})),1),a("a-select",{staticClass:"inline-width",staticStyle:{"font-size":"12px"},attrs:{mode:"multiple",allowClear:"",filterable:"",showArrow:"",autoClearSearchValue:!1,"max-tag-count":this.maxTagArr[8],"max-tag-text-length":this.maxTagTextArr[8],placeholder:"投放类型-全部",optionFilterProp:"children"},on:{focus:function(t){return e.focusFun(8)},blur:function(t){return e.blurFun()},mouseenter:function(t){return e.mouseenterFun(8)},mouseleave:function(t){return e.mouseleaveFun()}},scopedSlots:e._u([{key:"dropdownRender",fn:function(t){return a("div",{},[a("v-nodes",{attrs:{vnodes:t}}),a("a-divider",{staticClass:"select-all-divider"}),a("div",{staticClass:"select-all-div",on:{mousedown:function(e){return e.preventDefault()}}},[a("span",{staticClass:"select-all-span"},[e._v(e._s(e.mediabuy_type.length)+"/"+e._s(e.allMediabuyType.length))]),a("Button",{attrs:{type:"primary"},on:{click:function(t){e.mediabuy_type=e.allMediabuyType}}},[e._v("全选")])],1)],1)}}]),model:{value:e.mediabuy_type,callback:function(t){e.mediabuy_type=t},expression:"mediabuy_type"}},e._l(e.allMediabuyType,(function(t){return a("a-option",{key:t,attrs:{value:t}},[e._v(e._s(t)+"\n      ")])})),1),a("a-select",{staticClass:"inline-width",staticStyle:{"font-size":"12px"},attrs:{mode:"multiple",allowClear:"",filterable:"",showArrow:"",autoClearSearchValue:!1,"max-tag-count":this.maxTagArr[9],"max-tag-text-length":this.maxTagTextArr[9],placeholder:"AEO类型-全部",optionFilterProp:"children"},on:{focus:function(t){return e.focusFun(9)},blur:function(t){return e.blurFun()},mouseenter:function(t){return e.mouseenterFun(9)},mouseleave:function(t){return e.mouseleaveFun()}},scopedSlots:e._u([{key:"dropdownRender",fn:function(t){return a("div",{},[a("v-nodes",{attrs:{vnodes:t}}),a("a-divider",{staticClass:"select-all-divider"}),a("div",{staticClass:"select-all-div",on:{mousedown:function(e){return e.preventDefault()}}},[a("span",{staticClass:"select-all-span"},[e._v(e._s(e.aeo_type.length)+"/"+e._s(e.allAEOType.length))]),a("Button",{attrs:{type:"primary"},on:{click:function(t){e.aeo_type=e.allAEOType}}},[e._v("全选")])],1)],1)}}]),model:{value:e.aeo_type,callback:function(t){e.aeo_type=t},expression:"aeo_type"}},e._l(e.allAEOType,(function(t){return a("a-option",{key:t,attrs:{value:t}},[e._v(e._s(t)+"\n      ")])})),1),a("a-select",{staticClass:"inline-width",staticStyle:{"font-size":"12px"},attrs:{mode:"multiple",allowClear:"",filterable:"",showArrow:"",autoClearSearchValue:!1,"max-tag-count":this.maxTagArr[10],"max-tag-text-length":this.maxTagTextArr[10],placeholder:"EventName-全部",optionFilterProp:"children"},on:{focus:function(t){return e.focusFun(10)},blur:function(t){return e.blurFun()},mouseenter:function(t){return e.mouseenterFun(10)},mouseleave:function(t){return e.mouseleaveFun()}},scopedSlots:e._u([{key:"dropdownRender",fn:function(t){return a("div",{},[a("v-nodes",{attrs:{vnodes:t}}),a("a-divider",{staticClass:"select-all-divider"}),a("div",{staticClass:"select-all-div",on:{mousedown:function(e){return e.preventDefault()}}},[a("span",{staticClass:"select-all-span"},[e._v(e._s(e.event_name.length)+"/"+e._s(e.allEventName.length))]),a("Button",{attrs:{type:"primary"},on:{click:function(t){e.event_name=e.allEventName}}},[e._v("全选")])],1)],1)}}]),model:{value:e.event_name,callback:function(t){e.event_name=t},expression:"event_name"}},e._l(e.allEventName,(function(t){return a("a-option",{key:t,attrs:{value:t}},[e._v(e._s(t)+"\n      ")])})),1),a("div",{staticClass:"inline-width-div"},[a("span",[e._v("Campaign")]),a("Select",{staticClass:"inline-width-like",model:{value:e.campaignLike,callback:function(t){e.campaignLike=t},expression:"campaignLike"}},e._l(e.allLike,(function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label)+"\n        ")])})),1),a("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"输入关键字"},model:{value:e.campaignWord,callback:function(t){e.campaignWord=t},expression:"campaignWord"}})],1),a("div",{staticClass:"inline-width-div"},[a("span",[e._v("Ad")]),a("Select",{staticClass:"inline-width-like",model:{value:e.adLike,callback:function(t){e.adLike=t},expression:"adLike"}},e._l(e.allLike,(function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label)+"\n        ")])})),1),a("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"输入关键字"},model:{value:e.adWord,callback:function(t){e.adWord=t},expression:"adWord"}})],1),a("div",{staticClass:"inline-width-div"},[a("span",[e._v("VideoName")]),a("Select",{staticClass:"inline-width-like",model:{value:e.videoLike,callback:function(t){e.videoLike=t},expression:"videoLike"}},e._l(e.allLike,(function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label)+"\n        ")])})),1),a("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"输入关键字"},model:{value:e.videoWord,callback:function(t){e.videoWord=t},expression:"videoWord"}})],1),a("DatePicker",{staticClass:"inline-width",attrs:{type:"daterange",options:e.daterangeoption,clearable:!1,placement:"bottom-start",placeholder:"选择日期范围"},model:{value:e.rangeDates,callback:function(t){e.rangeDates=t},expression:"rangeDates"}}),a("Button",{attrs:{type:"primary",disabled:e.loading},on:{click:e.handleSubmit}},[e._v("Apply Filter")])],1),a("div",{staticClass:"optionsContents",attrs:{id:"optionsContent"}},e._l(e.tmpOptions,(function(t){return a("li",{key:t},[e._v(e._s(t))])})),0)])},o=[],l=(a("55dd"),a("1c4c"),a("7f7f"),a("4f7f"),a("2f62")),c=a("90de"),u=a("4b65"),p=a("9839"),d=(a("1ef0"),a("1157")),h=a.n(d);function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var g={name:"page-filter",components:{ASelect:p["d"],AOption:p["d"].Option,VNodes:{functional:!0,render:function(e,t){return t.props.vnodes}}},data:function(){return{projects:[],apps:[],appTypes:[],mediaSources:[],materialTypes:[],designers:[],proposers:[],campaignLike:"LIKE",adLike:"LIKE",videoLike:"LIKE",campaignWord:"",adWord:"",videoWord:"",allProjects:[],canSelectAllAppType:[],canSelectAllApp:[],allApp:[],allAppTypes:[],allMediaSources:[],allDesigners:[],allMaterialType:[],allProposer:[],allAudience:[],allAEOType:[],allMediabuyType:[],allEventName:[],audience:[],aeo_type:[],mediabuy_type:[],event_name:[],daterangeoption:{},rangeDates:[],allLike:[{label:"包含",value:"LIKE"},{label:"不含",value:"NOT LIKE"}],maxTagArr:[1,1,1,1,1,1,1,1,1,1,1,1],maxTagTextArr:[20,20,20,20,20,20,20,20,20,20,20,20],tmpAllOptions:[],tmpOptions:[],mark:0}},props:{loading:{type:Boolean,default:function(){return!1}}},methods:m(m({},Object(l["b"])(["getAllProject","getAllAppForDashboard","getAllAppType","getAllMediaSource","getAllDesigner","getMediabuyMaterialType","getCreativeProposer","getAllAudience2","getAllAEOType","getAllMediabuyType","getAllEvent"])),{},{filterAppAndAppType:function(e,t){this.filterApp(e,t),this.filterAppType(e)},filterAppType:function(e){if(this.canSelectAllAppType=[].concat(this.allAppTypes),e.length>0){for(var t=[],a=0;a<this.canSelectAllApp.length;a++)t.push(this.canSelectAllApp[a].app_type);var n=new Set(t);this.canSelectAllAppType=this.canSelectAllAppType.filter((function(e){return n.has(e.id)})),this.appTypes=this.appTypes.filter((function(e){return n.has(e)}))}},filterApp:function(e,t){if(this.canSelectAllApp=[].concat(this.allApp),this.apps=[],e&&e.length>0){var a=new Set(e);this.canSelectAllApp=this.canSelectAllApp.filter((function(e){return a.has(e.project)}))}if(t&&t.length>0){var n=new Set(t);this.canSelectAllApp=this.canSelectAllApp.filter((function(e){return n.has(e.app_type)}))}},projectsChange:function(e){this.appTypes=[],this.filterAppAndAppType(e,this.appTypes)},appTypeChange:function(e){this.filterApp(this.projects,e)},handleSubmit:function(e){var t={projects:this.projects,appTypes:this.appTypes,apps:this.apps,mediaSources:this.mediaSources,materialTypes:this.materialTypes,designers:this.designers,proposers:this.proposers,campaignLike:this.campaignLike,campaignWord:this.campaignWord.trim(),adLike:this.adLike,adWord:this.adWord.trim(),videoLike:this.videoLike,videoWord:this.videoWord.trim(),rangeDates:this.rangeDates,audience:this.audience,aeo_type:this.aeo_type,mediabuy_type:this.mediabuy_type,event_name:this.event_name};this.$emit("on-filter-apply",t)},maxTagCountfun:function(e){return this.maxTagCountObj&&this.maxTagCountObj[e]?this.maxTagCountObj[e]:1},focusFun:function(e){this.mark=1,h()("#optionsContent").length&&h()("#optionsContent").css({display:"none"}),this.maxTagArr=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],this.maxTagTextArr=[20,20,20,20,20,20,20,20,20,20,20,20,20,20,20];var t=this;setTimeout((function(){t.maxTagArr.splice(e,0,10),t.maxTagTextArr.splice(e,0,100)}),500)},blurFun:function(){this.mark=0,this.maxTagArr.findIndex((function(e){return 10===e}))>=0&&(this.maxTagArr=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],this.maxTagTextArr=[20,20,20,20,20,20,20,20,20,20,20,20,20,20,20]),this.setItemValues()},mouseenterFun:function(e){if(1!==this.mark){this.tmpOptions=this.tmpAllOptions[e];var t=Object(u["g"])(this.$refs["filter"].$el.clientWidth,e),a=document.getElementById("optionsContent");h()("#optionsContent").length&&this.tmpOptions&&this.tmpOptions.length>0&&a&&(h()("#optionsContent").css({display:"block",left:t.left+"px"}),a.style.setProperty("top",t.top+"px","important"))}},mouseleaveFun:function(){this.hideContentItem(),this.setItemValues()},setItemValues:function(){var e=this;this.tmpAllOptions[0]=this.projects;var t=[];this.appTypes&&this.appTypes.map((function(a,n){e.allAppTypes&&e.allAppTypes.map((function(e,n){e.id===a&&t.push(e.name)}))})),this.tmpAllOptions[1]=t;var a=[];this.apps&&this.apps.map((function(t,n){e.canSelectAllApp&&e.canSelectAllApp.map((function(e,n){t===e.app_id&&a.push(e.app_name)}))})),this.tmpAllOptions[2]=a,this.tmpAllOptions[3]=this.mediaSources;var n=[];this.materialTypes&&this.materialTypes.map((function(t,a){e.allMaterialType&&e.allMaterialType.map((function(e,a){e.id===t&&n.push(e.name)}))})),this.tmpAllOptions[4]=n,this.tmpAllOptions[5]=this.designers,this.tmpAllOptions[6]=this.proposers;var i=[];this.audience&&this.audience.map((function(e,t){"non-lookalike"===e?i.push("非lookalike"):i.push(e)})),this.tmpAllOptions[7]=i,this.tmpAllOptions[8]=this.mediabuy_type,this.tmpAllOptions[9]=this.aeo_type,this.tmpAllOptions[10]=this.event_name},geyAudienceKey:function(e){return"非lookalike"===e?"non-lookalike":e},getFilter:function(){return{projects:this.projects,appTypes:this.appTypes,apps:this.apps,mediaSources:this.mediaSources,materialTypes:this.materialTypes,designers:this.designers,proposers:this.proposers,campaignLike:this.campaignLike,campaignWord:this.campaignWord.trim(),adLike:this.adLike,adWord:this.adWord.trim(),videoLike:this.videoLike,videoWord:this.videoWord.trim(),audience:this.audience,aeo_type:this.aeo_type,mediabuy_type:this.mediabuy_type,event_name:this.event_name,rangeDates:[Object(u["c"])(this.rangeDates[0]),Object(u["c"])(this.rangeDates[1])],time_type:Object(u["i"])(this.rangeDates)}},setFilter:function(e){this.projects=e.projects,this.appTypes=e.appTypes,this.apps=e.apps,this.mediaSources=e.mediaSources,this.materialTypes=e.materialTypes,this.designers=e.designers,this.proposers=e.proposers,this.campaignLike=e.campaignLike,this.campaignWord=e.campaignWord,this.adLike=e.adLike,this.adWord=e.adWord,this.videoLike=e.videoLike,this.videoWord=e.videoWord,this.audience=e.audience,this.aeo_type=e.aeo_type,this.mediabuy_type=e.mediabuy_type,this.event_name=e.event_name,this.rangeDates=e.rangeDates,e.time_type&&(this.rangeDates=Object(c["f"])(e.time_type))},hideContentItem:function(){h()("#optionsContent").length&&h()("#optionsContent").css({display:"none"})}}),mounted:function(){var e=this;this.daterangeoption=Object(c["b"])(),Promise.all([this.getAllProject(),this.getAllAppType(),this.getAllAppForDashboard(),this.getAllMediaSource(),this.getAllDesigner(),this.getMediabuyMaterialType(),this.getCreativeProposer(),this.getAllAudience2(),this.getAllAEOType(),this.getAllMediabuyType(),this.getAllEvent()]).then((function(t){e.allAppTypes=t[1],e.allApp=t[2],e.allMediaSources=t[3].filter((function(e){return"organic"!==e.id})),e.canSelectAllApp=[].concat(e.allApp),e.canSelectAllAppType=[].concat(e.allAppTypes),e.allDesigners=t[4],e.allMaterialType=t[5],e.allProjects=t[0].filter((function(t){return e.allApp.findIndex((function(e){return e.project===t}))>=0})),e.allProposer=t[6],e.allAudience=t[7],e.allAEOType=t[8],e.allMediabuyType=t[9],t[10].map((function(t,a){t.af_event_name&&null!==t.af_event_name&&e.allEventName.push(t.af_event_name)})),e.allEventName=Array.from(new Set(e.allEventName)),e.allEventName.sort()}))},created:function(){this.rangeDates=Object(c["f"])("1 week")}},v=g,y=(a("b6f7"),a("2877")),b=Object(y["a"])(v,s,o,!1,null,"cb1c5924",null),_=b.exports,w=a("88e6"),C=a("bdcb"),S=a("3dd2"),A=a("4481");a("ca62");function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var D={name:"mediabuy-creative-data",components:{PageFilter:_,GroupLineChart:w["a"],ChartGroup:S["a"],TableData:C["a"]},data:function(){return{tabItem:"name1",inited:!1,rowGutter:20,chartFields:["spend","installs","media_cpi","ctr","cvr","ipm","cpm"],chartGroups:["app_name","media_source","material_type","designer","proposer"],defaultDimensions:["date"],knownDimensions:["year","quarterly","month","date","project","app_type","app_name","media_source","material_type","designer","proposer","audience_type","mediabuy_type","aeo_type","af_event_name","campaign_name","ad_name","video_name"],defaultChartGroups:["app_name"],knownMetrics:["spend","installs","media_cpi","ctr","cvr","impressions","clicks","ipm","cpm"],inFields:[["projects","project"],["apps","app_id"],["appTypes","app_type"],["mediaSources","media_source"],["materialTypes","material_type"],["designers","designer"],["proposers","proposer"],["audience","audience_type"],["aeo_type","aeo_type"],["mediabuy_type","mediabuy_type"],["event_name","af_event_name"]],likeFields:[["campaignWord","campaignLike","campaign_name"],["adWord","adLike","ad_name"],["videoWord","videoLike","video_name"]],metrics:[],currFilterApply:{},currSortField:{},currDimensions:[],currMetrics:[],currDownloadParams:{},currPageIndex:1,currPageSize:100,currChartGroups:[],lineChartData:[],pageReset:!1,tableLoading:!0,chartLoading:!0,downloadLoading:!1,syncDimensions:[],syncMetrics:[],checkStatus:!1,previewStatus:!1,visible:!0,searchParams:{},searchTag:!1}},computed:k(k({},Object(l["d"])({field_formaters:function(e){return e.dashboard_field.field_formaters},mediabuy_creative_data_fields:function(e){return e.dashboard_field.mediabuy_creative_data_fields},allApp:function(e){return e.app_reporting.allApp},tableData:function(e){if(!0===this.inited)return e.mediabuy_creative_data.mediabuyCreativeDataTableData.data},totalData:function(e){if(!0===this.inited){var t=e.mediabuy_creative_data.mediabuyCreativeDataTotalData.data;if(t&&t.length>0)return t[0]}},pageData:function(e){if(!0===this.inited){var t=e.mediabuy_creative_data.mediabuyCreativeDataTableData;return{page_size:t.page_size,has_next:t.has_next,has_prev:t.has_prev,total_num:t.total_num}}}})),{},{allDimensions:function(){var e=Object(u["j"])(this.mediabuy_creative_data_fields,this.knownDimensions),t=Object(u["d"])(e,this.searchParams);return t},allMetrics:function(){return Object(u["j"])(this.mediabuy_creative_data_fields,this.knownMetrics)},days:function(){var e=Object(u["h"])(this.currFilterApply);return e}}),methods:k(k({},Object(l["b"])(["getMediabuyCreativeDataChartData","getMediabuyCreativeDataTableData","getMediabuyCreativeDataTotalData","getMediabuyCreativeDataDownloadUrl"])),{},{delComposeData:function(e){return e&&e.filter((function(e){return"age"!==e&&"gender"!==e&&"country"!==e&&"pubsite"!==e&&"publisher_platform"!==e&&"platform_position"!==e}))},handleClickVideoName:function(e,t){"video_name"===t&&window.open(e.row["video_name_link"],"_blank")},onFilterApply:function(e){this.currFilterApply=JSON.parse(JSON.stringify(e)),this.currSortField={},this.currDimensions=JSON.parse(JSON.stringify(this.currDimensions)),this.currPageIndex=1,this.pageReset=!0,this.updatePageData()},handleSetDimensions:function(e){this.currDimensions=JSON.parse(JSON.stringify(e))},handleSortChange:function(e,t,a){this.currPageIndex=1,this.currSortField={key:e.key,order:e.order},this.pageReset=!0,this.updateTableData()},handleTableRefresh:function(e,t){if(this.currDimensions=JSON.parse(JSON.stringify(e)),0===this.currDimensions.length){var a=JSON.stringify(this.knownDimensions);this.currDimensions=JSON.parse(a)}if(this.currMetrics=t,this.currSortField={},this.currMetrics=t,this.metrics=t,0===this.currMetrics.length){var n=JSON.stringify(this.knownMetrics);this.currMetrics=JSON.parse(n),this.metrics=JSON.parse(n)}this.currPageIndex=1,this.updateTableData(1),this.updateTotalData(1),this.pageReset=!0},handleDimensionsChange:function(e){this.syncDimensions=JSON.parse(JSON.stringify(e))},handleChartGroupChange:function(e){this.currChartGroups=e},handleChartGroupRefresh:function(){var e=this;this.chartLoading=!0,Promise.all([this.getMediabuyCreativeDataChartData(this.wrapChartReqParams())]).then((function(t){e.chartLoading=!1,e.getLineChartData()})).catch((function(t){e.chartLoading=!1,e.showError(t)}))},getLineChartData:function(){var e=[];if(!0===this.inited&&(e=Object(u["t"])(this.$store.state.mediabuy_creative_data.mediabuyCreativeDataChartData.data,this.chartFields,this.currChartGroups)),!e||e.length<=0){e=[];for(var t=0;t<this.chartFields.length;t++)e.push({legendData:[],xAxisData:[],values:[]})}this.lineChartData=e},metricsOk:function(e){this.currMetrics=e,this.metrics=e,this.syncMetrics=JSON.parse(JSON.stringify(e)),this.metrics.length<=0&&(this.metrics=JSON.parse(JSON.stringify(this.knownMetrics)),this.syncMetrics=JSON.parse(JSON.stringify(this.knownMetrics)))},download:function(e){this.currDownloadParams=JSON.parse(JSON.stringify(e)),this.downloadFile()},pageChange:function(e){this.currPageIndex=e,this.updateTableData()},pageSizeChange:function(e){this.currPageSize=e,this.pageReset=!0,this.updateTableData()},setDefaultDimensionsAndMetrics:function(){var e=JSON.stringify(this.defaultDimensions);this.currDimensions=JSON.parse(e),this.syncDimensions=JSON.parse(e),e=JSON.stringify(this.knownMetrics),this.metrics=JSON.parse(e),this.currMetrics=JSON.parse(e),this.syncMetrics=JSON.parse(e)},updateChartData:function(){var e=this;this.chartLoading=!0;var t=this.wrapChartReqParams();this.getMediabuyCreativeDataChartData(t).then((function(t){e.chartLoading=!1})).catch((function(t){e.chartLoading=!1,e.showError(t)}))},updateTableData:function(e){var t=this;this.tableLoading=!0;var a=this.wrapTableReqParams();this.getMediabuyCreativeDataTableData(a).then((function(e){t.tableLoading=!1})).catch((function(e){t.tableLoading=!1,t.showError(e)}))},updateTotalData:function(e){var t=this,a=this.wrapTotalReqParams();1===e&&this.getMediabuyCreativeDataTotalData(a).then((function(e){})).catch((function(e){return t.showError(e)})),a.group_by&&this.getMediabuyCreativeDataTotalData(a).then((function(e){})).catch((function(e){return t.showError(e)}))},updatePageData:function(){var e=this;this.tableLoading=!0,this.chartLoading=!0,Promise.all([this.getMediabuyCreativeDataChartData(this.wrapChartReqParams()),this.getMediabuyCreativeDataTableData(this.wrapTableReqParams()),this.getMediabuyCreativeDataTotalData(this.wrapTotalReqParams())]).then((function(t){e.inited=!0,e.tableLoading=!1,e.chartLoading=!1,e.getLineChartData()})).catch((function(t){e.tableLoading=!1,e.chartLoading=!1,e.showError(t)}))},downloadFile:function(){var e=this;this.downloadLoading=!0;var t=this.wrapDownloadReqParams();this.getMediabuyCreativeDataDownloadUrl(t).then((function(t){e.downloadLoading=!1;var a=document.createElement("a");a.href=t.url,a.click()})).catch((function(t){e.downloadLoading=!1,e.showError(t)}))},wrapChartReqParams:function(e){0===this.currChartGroups.length&&(this.currChartGroups=this.defaultChartGroups,this.$refs.chartGroup.initChartGroups());var t=JSON.stringify(["date"]);this.currChartGroups.findIndex((function(e){return"total"===e}))<0&&(t=JSON.stringify(this.currChartGroups.concat(["date"])));var a={time_range:Object(u["r"])(this.currFilterApply),group_by:t,filtering:Object(u["m"])(this.currFilterApply,this.inFields,this.likeFields),fields:Object(u["l"])(this.chartFields)};return a},wrapTableReqParams:function(e){var t={time_range:Object(u["r"])(this.currFilterApply),page:JSON.stringify({count:this.currPageIndex,size:this.currPageSize}),filtering:Object(u["m"])(this.currFilterApply,this.inFields,this.likeFields),group_by:Object(u["n"])(this.currDimensions),fields:Object(u["l"])(this.knownMetrics),sort:Object(u["p"])(this.currSortField)};return t},wrapTotalReqParams:function(e){var t={time_range:Object(u["r"])(this.currFilterApply),filtering:Object(u["m"])(this.currFilterApply,this.inFields,this.likeFields),fields:Object(u["l"])(this.knownMetrics)};return t},wrapDownloadReqParams:function(){var e=Object(u["l"])(this.currDownloadParams.metrics);null==e&&(e=JSON.stringify(this.knownMetrics));var t=Object(u["n"])(this.currDownloadParams.dimensions,!0),a={time_range:Object(u["r"])(this.currFilterApply),filtering:Object(u["m"])(this.currFilterApply,this.inFields,this.likeFields),group_by:t,fields:e,file_format:this.currDownloadParams.fileFormat};return a},showError:function(e){this.$Modal.error({title:"Error",content:e})},pageResetFalse:function(){this.pageReset=!1},changeCheckbox:function(e){this.checkStatus=e,this.lineChartData.status=e},changeTabs:function(){},onSelectPageInfo:function(e){var t=JSON.parse(e);this.$refs.pageFilter.setFilter(t.filter),this.$refs.chartGroup.chartGroups=t.chart_group,this.currChartGroups=t.chart_group,this.tabItem=t.cur_chart,this.checkStatus=t.checkStatus,this.$refs.table.$refs.childTableDimensions.setData(t.dimensions),this.currDimensions=JSON.parse(JSON.stringify(t.dimensions.dimensions.length>0?t.dimensions.dimensions:this.knownDimensions)),this.metrics=JSON.parse(JSON.stringify(t.dimensions.metrics.length>0?t.dimensions.metrics:this.knownMetrics)),t.filter.time_type&&(t.filter.rangeDates=Object(c["f"])(t.filter.time_type)),this.onFilterApply(t.filter)},onGetPageInfo:function(e){var t=this.$refs.pageFilter.getFilter(),a=this.currChartGroups,n=this.tabItem,i=this.$refs.table.$refs.childTableDimensions.getData(),r=JSON.stringify({filter:t,chart_group:a,cur_chart:n,checkStatus:this.checkStatus,dimensions:i});A["a"].$emit("setPageInfo",e,r)},previewFun:function(){this.visible=!1,this.previewStatus=!0;var e=document.getElementsByClassName("contentsItem");if(h()("#mainItem").length&&h()("#closeBtn").length&&e){var t=document.body.clientWidth;h()("#mainItem").css({width:t+"px",height:"100vh",background:"rgba(0,0,0,.8)",position:"fixed",top:"0",left:"0",zIndex:"1000"}),h()("#closeBtn").css({position:"fixed",top:"10%",right:"0",zIndex:"1000",marginTop:"12px",marginRight:"12px",display:"block"}),e[0].style.top="8%"}},closeFun:function(){this.visible=!0,this.previewStatus=!1,h()("#mainItem").length&&h()("#closeBtn").length&&(h()("#mainItem").css({width:"auto",height:"auto",position:"static",background:"#ffffff"}),h()("#closeBtn").css({display:"none"}))}}),mounted:function(){this.setDefaultDimensionsAndMetrics(),this.updatePageData();var e=this;A["a"].$on("selectPageInfo",(function(t){e.onSelectPageInfo(t)})),A["a"].$on("getPageInfo",(function(t){e.onGetPageInfo(t)}))},beforeDestroy:function(){A["a"].$off("selectPageInfo"),A["a"].$off("getPageInfo")}},O=D,T=Object(y["a"])(O,n,i,!1,null,null,null);t["default"]=T.exports},3202:function(e,t,a){},3614:function(e,t,a){},"3dd2":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"filter-selection",staticStyle:{float:"left"}},[a("span",[e._v("Group by")]),a("a-select",{staticClass:"inline-width",staticStyle:{width:"230px","margin-right":"10px","margin-left":"10px","font-size":"12px"},attrs:{mode:e.selectMode,filterable:"",showArrow:"","max-tag-count":1,"max-tag-text-length":20,placeholder:"至少选择一个",optionFilterProp:"children"},on:{focus:function(t){return e.focusFun(0)},blur:function(t){return e.blurFun()},change:e.handleChartGroupChange,mouseenter:function(t){return e.mouseenterFun(0)},mouseleave:function(t){return e.mouseleaveFun()}},model:{value:e.chartGroups,callback:function(t){e.chartGroups=t},expression:"chartGroups"}},e._l(e.allOptions,(function(t,n){return a("a-option",{key:n,attrs:{value:t.val}},[e._v(e._s(t.label)+"\n      ")])})),1),a("Button",{attrs:{type:"primary",disabled:e.disableRefreshButton},on:{click:e.handleRefresh}},[e._v("刷新")]),a("div",{staticClass:"optionsContents",attrs:{id:"optionsContentItem"}},e._l(e.tmpOptions,(function(t){return a("li",{key:t},[e._v(e._s(t))])})),0)],1)},i=[],r=(a("20d6"),a("4b65")),s=a("9839"),o=a("1157"),l=a.n(o),c={name:"chart-group",components:{ASelect:s["d"],AOption:s["d"].Option},props:{selectMode:{type:String,default:"multiple"},knownFields:{type:Array,default:function(){return[]}},allChartGroups:{type:Array,default:function(){return[]}},defaultChartGroups:{type:Array,default:function(){return[]}}},data:function(){return{chartGroups:[],tmpAllOptions:[],tmpOptions:[],mark:0}},computed:{allOptions:function(){var e=Object(r["j"])(this.knownFields,this.allChartGroups);return e.push({label:"Total",val:"total"}),e},disableRefreshButton:function(){return 0===this.chartGroups.length}},methods:{handleChartGroupChange:function(e){if("string"!==typeof e){if(e.length>1){var t=e.findIndex((function(e){return"total"===e}));0===t?e=e.filter((function(e){return"total"!==e})):t>0&&(e=["total"]),this.chartGroups=e}this.$emit("on-chart-group-change",e)}else this.$emit("on-chart-group-change",[e])},handleRefresh:function(){this.$emit("on-chart-group-refresh")},initChartGroups:function(){this.chartGroups=this.defaultChartGroups},mouseenterFun:function(e){if("default"!==this.selectMode&&1!==this.mark){this.tmpOptions=this.tmpAllOptions[e];var t=84,a=48,n=document.getElementById("optionsContentItem");l()("#optionsContentItem").length&&this.tmpOptions&&this.tmpOptions.length>0&&n&&(l()("#optionsContentItem").css({display:"block",left:t+"px"}),n.style.setProperty("top",a+"px","important"))}},mouseleaveFun:function(){"default"!==this.selectMode&&(this.hideContentItem(),this.setItemValues())},focusFun:function(e){"default"!==this.selectMode&&(this.mark=1,l()("#optionsContentItem").length&&l()("#optionsContentItem").css({display:"none"}),setTimeout((function(){}),500))},blurFun:function(){"default"!==this.selectMode&&(this.mark=0,this.setItemValues())},hideContentItem:function(){l()("#optionsContentItem").length&&l()("#optionsContentItem").css({display:"none"})},setItemValues:function(){var e=this,t=[];this.chartGroups.map((function(a,n){e.allOptions.map((function(e,n){a===e.val&&t.push(e.label)}))})),this.tmpAllOptions[0]=t}},mounted:function(){this.chartGroups=this.defaultChartGroups,this.setItemValues()}},u=c,p=(a("ccd5"),a("2877")),d=Object(p["a"])(u,n,i,!1,null,"759bf7c6",null);t["a"]=d.exports},"88e6":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"dom",style:{width:e.previewStatus?e.client_width:"auto"}})},i=[],r=(a("7f7f"),a("28a5"),a("20d6"),a("ac6a"),a("313e")),s=a.n(r),o=a("90de"),l=a("6612"),c=a.n(l),u=a("4b65"),p={name:"group-line-chart",props:{chartData:{type:Object,default:function(){return{legendData:[],xAxisData:[],values:[]}}},knownFields:{type:Array,default:function(){return[]}},fieldFormaters:{type:Object,default:function(){return{}}},defaultFormater:{type:String,default:function(){return""}},xAxisType:{type:String,default:function(){return"日期"}},status:{type:Boolean,default:function(){return!1}},previewStatus:{type:Boolean,default:function(){return!1}},moneyType:{type:String,default:function(){return null}},events:{type:Array,default:function(){return[]}},inverseStatus:{type:Boolean,default:function(){return!1}}},data:function(){return{dom:null,client_width:1400,client_height:500}},methods:{resize:function(){this.dom.resize()},wrapOption:function(e){var t=this,a=[],n=this.fieldFormaters[this.chartData.chartField];null==n&&(n=this.defaultFormater);var i="数值";null!=this.chartData.chartField&&(i=this.knownFields.filter((function(e){return e.val===t.chartData.chartField}))[0].label);for(var r=parseInt(this.chartData.xAxisData.length/15),s=0;s<this.chartData.values.length;s++)a.push({name:this.chartData.legendData[s],type:"line",showAllSymbol:!0,data:this.chartData.values[s],itemStyle:{normal:{label:{show:this.status,formatter:function(t){if(t.dataIndex%(r+1)!==0)return"";var a=c()(t.value).format(n);return e&&a&&a.indexOf("$")>-1&&(a="¥"+a.substring(a.indexOf("$")+1,a.length)),a}}}}});var o=0===this.chartData.legendData.length,l=[];this.chartData.groups&&(l=this.chartData.groups.findIndex((function(e){return"total"===e}))>=0?[{label:"Total",val:"total"}]:Object(u["j"])(this.knownFields,this.chartData.groups));var p=this.xAxisType,d=this.events,h=this.chartData.xAxisData,f=Object.hasOwnProperty.call(this.chartData,"grid")?this.chartData.grid.left:"1.2%";return{title:{show:o,text:"暂无数据",left:"center",top:"center",textStyle:{color:"#464c5b",fontSize:16,fontWeight:400}},animation:!1,tooltip:{trigger:"item",axisPointer:{type:"cross",label:{formatter:function(t){if("y"===t.axisDimension){var a=c()(t.value).format(n);return e&&a&&a.indexOf("$")>-1&&(a="¥"+a.substring(a.indexOf("$")+1,a.length)),a}var i=t.value;if(d.length>0){i="转化率 ";var r=h.findIndex((function(e){return e===t.value}));i+=r+1+": ",i+=d[r]+"  "+(r+2)+": ",i+=d[r+1]}return i},backgroundColor:"#6a7985"}},formatter:function(t){var a=t.seriesName.split("/"),r=c()(t.value).format(n);e&&r&&r.indexOf("$")>-1&&(r="¥"+r.substring(r.indexOf("$")+1,r.length));for(var s=p+(""!==p?": ":"")+t.name,o=0;o<l.length;o++)s+="<br/>",s+=l[o].label,s+=": ",s+=a[o];return s+="<br/>",s+=i,s+=": ",s+=r,s}},legend:{formatter:function(e){return e?(e.length>32&&(e=e.slice(0,32)+"..."),e):""},tooltip:{show:!0},orient:"vertical",type:"scroll",right:10,icon:"circle",data:this.chartData.legendData},grid:{top:"10%",left:f||"1.2%",right:"260px",bottom:"3%",height:"80%",width:"auto",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,axisLabel:{rotate:15,interval:r},axisLine:{onZero:!this.inverseStatus},data:this.chartData.xAxisData}],yAxis:[{inverse:!!this.inverseStatus,type:"value",axisLabel:{formatter:function(t){var a=c()(t).format(n);return e&&a&&a.indexOf("$")>-1&&(a="¥"+a.substring(a.indexOf("$")+1,a.length)),a}}}],series:a}},renderChart:function(){var e=this,t=this.wrapOption(this.moneyType);this.$nextTick((function(){e.dom=s.a.init(e.$refs.dom),e.dom.setOption(t,!0),e.autoHeight=e.previewStatus?500:350,e.dom.resize({height:e.autoHeight}),Object(o["m"])(window,"resize",e.resize)}))},reRenderChartSeries:function(){var e=this,t=this.wrapOption(this.moneyType),a=this.dom.getOption();null!=a&&(a.series=t.series),this.$nextTick((function(){e.dom=s.a.init(e.$refs.dom),e.dom.setOption(a,!0),e.autoHeight=e.previewStatus?500:350,e.dom.resize({height:e.autoHeight}),Object(o["m"])(window,"resize",e.resize)}))},callMethod:function(e){},_expandable:function(){this.client_width=document.body.clientWidth,this.client_height=document.body.clientHeight}},watch:{chartData:{deep:!0,handler:function(e,t){this.renderChart()}},status:function(e){this.reRenderChartSeries()},previewStatus:function(e){this.reRenderChartSeries()}},mounted:function(){this.renderChart(),this._expandable();var e=this;window.onresize=function(){e._expandable()}},beforeDestroy:function(){Object(o["l"])(window,"resize",this.resize)}},d=p,h=a("2877"),f=Object(h["a"])(d,n,i,!1,null,null,null);t["a"]=f.exports},b6f7:function(e,t,a){"use strict";a("3202")},ccd5:function(e,t,a){"use strict";a("3614")}}]);