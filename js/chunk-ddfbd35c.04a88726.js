(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ddfbd35c"],{"0a8d":function(t,e,a){},"9c6c0":function(t,e,a){"use strict";a.d(e,"d",(function(){return i})),a.d(e,"g",(function(){return s})),a.d(e,"f",(function(){return o})),a.d(e,"h",(function(){return c})),a.d(e,"i",(function(){return l})),a.d(e,"e",(function(){return u})),a.d(e,"j",(function(){return d})),a.d(e,"c",(function(){return p})),a.d(e,"b",(function(){return h})),a.d(e,"a",(function(){return m})),a.d(e,"k",(function(){return _}));var n=a("6612"),r=a.n(n),i=[{id:"today",value:"今天"},{id:"yesterday",value:"昨天"},{id:"day7",value:"最近7天"},{id:"day14",value:"最近14天"},{id:"day30",value:"最近30天"}],s=function(t){var e=[{title:"异常问题",key:"crash_name",render:function(e,a){var n="#"+a.row.crash_num+" "+a.row.crash_name;return e("a",{on:{click:function(){t.clickCrashName(a)}}},n)}},{title:"崩溃设备数",key:"users",width:180},{title:"崩溃次数",key:"crash_count",width:180}];return e},o=function(t){var e=[{title:"Top",key:"top",width:80,render:function(t,e){return t("span",e.index+1)}},{title:"异常问题",key:"crash_name",render:function(e,a){var n="#"+a.row.crash_num+" "+a.row.crash_name;return e("a",{on:{click:function(){t.clickCrashName(a)}}},n)}},{title:"崩溃设备数",key:"crash_users",width:180},{title:"崩溃次数",key:"online_users",width:180},{title:"首次上报时间",key:"first_time",width:180}];return e},c=function(t){var e=[{title:"异常问题",key:"crash_name",render:function(e,a){return e("div",[e("p",[e("a",{on:{click:function(){t.clickCrashName(a)}}},a.row.issue_title)]),e("p",[e("a",{on:{click:function(){t.clickCrashName(a)}}},a.row.issue_subtitle)])])}},{title:"崩溃设备数",key:"users",width:180},{title:"崩溃次数",key:"counts",width:180}];return e},l=function(t){var e=[{title:"Top",key:"top",width:80,render:function(t,e){return t("span",e.index+1)}},{title:"异常问题",key:"crash_name",render:function(e,a){return e("div",[e("p",[e("a",{on:{click:function(){t.clickCrashName(a)}}},a.row.issue_title)]),e("p",[e("a",{on:{click:function(){t.clickCrashName(a)}}},a.row.issue_subtitle)])])}},{title:"崩溃设备数",key:"crash_users",width:180},{title:"崩溃次数",key:"crash_count",width:180},{title:"首次上报时间",key:"first_time",width:180}];return e},u=[{title:"应用版本",key:"appversion",width:120},{title:"首次上报时间",key:"first_time"},{title:"最近上报时间",key:"last_time"},{title:"累计发生次数",key:"total",render:function(t,e){return t("span",r()(e.row.total).format("0,0"))}},{title:"次数占比",key:"rate",render:function(t,e){return t("span",r()(e.row.rate).format("0,0%"))}},{title:"累计影响设备数",key:"devices",render:function(t,e){return t("span",r()(e.row.devices).format("0,0"))}}],d=[{title:"应用版本",key:"app_version",width:120},{title:"首次上报时间",key:"first_time"},{title:"最近上报时间",key:"last_time"},{title:"累计发生次数",key:"total",render:function(t,e){return t("span",r()(e.row.crash_count).format("0,0"))}},{title:"次数占比",key:"rate",render:function(t,e){return t("span",r()(e.row.crash_count_rate).format("0,0%"))}},{title:"累计影响设备数",key:"devices",render:function(t,e){return t("span",r()(e.row.crash_users).format("0,0"))}}],p=["performed an event","did not performed an event","meet a general condition"],h=["is","is not","contains","does not contain"],m=["app version","country","device brand","device model","media source","投放类型","os version"],_=["g_level_id","task_id","item_id","itemid","gemleft","gem_left","af_price","timeline_id","PetRank","Playerlevel","PetLevel","player_level","roomrecipeid"]},a2e3:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wapper",staticStyle:{position:"relative"}},[t.loading?a("Spin",{attrs:{size:"large",fix:""}}):t._e(),a("Row",{staticStyle:{"margin-bottom":"16px"},attrs:{gutter:16}},[a("Row",{staticClass:"wapperTitle"},[t._v("今日数据")]),t._l(t.dataStatistics,(function(e,n){return a("Col",{key:n,attrs:{span:"6"}},[a("div",{staticClass:"topWapper"},[a("Card",[a("Row",[a("Col",{staticClass:"wordTitle",attrs:{span:"13"}},[t._v("\n                  "+t._s(e.title)+"\n                  "),a("Divider",{staticStyle:{height:"22px",margin:"0 15px"},attrs:{type:"vertical"}})],1),a("Col",{attrs:{span:"11"}},[a("h2",{staticClass:"wordTitle"},[t._v(t._s(e.value))])])],1)],1)],1)])}))],2),a("Row",{staticClass:"wapperTitle trendTitle"},[t._v("崩溃趋势")]),a("Card",{staticStyle:{"margin-top":"12px"}},[a("span",[t._v("时间：")]),a("Select",{staticClass:"selectItem",on:{"on-change":t.chageSelect},model:{value:t.trend_time,callback:function(e){t.trend_time=e},expression:"trend_time"}},t._l(t.allTimesOptions,(function(e,n){return a("Option",{key:n,attrs:{value:e.id}},[t._v(t._s(e.value))])})),1),a("span",[t._v("应用版本：")]),a("Select",{staticClass:"selectItem",on:{"on-change":t.chageSelect},model:{value:t.trend_version,callback:function(e){t.trend_version=e},expression:"trend_version"}},t._l(t.allVersion,(function(e,n){return a("Option",{key:n,attrs:{value:e}},[t._v(t._s(e))])})),1),a("Tabs",{staticStyle:{"margin-top":"12px"},attrs:{animated:!1},on:{"on-click":t.changeTabs},model:{value:t.tabItem,callback:function(e){t.tabItem=e},expression:"tabItem"}},t._l(t.tabItemArr,(function(t,e){return a("TabPane",{key:e,attrs:{label:t.title,name:t.id}})})),1),a("div",{staticClass:"chartItem"},[a("basic-line-chart",{staticStyle:{margin:"0 24px","padding-bottom":"12px"},attrs:{"chart-data":t.chartDataItem,"field-formaters":t.fieldFormaters,"view-type":6,"view-type-name":this.tabItem}})],1),a("p",{staticClass:"weightWord"},[t._v(" "+t._s(t.exceptionData.date)+" "+t._s(t.exceptionData.time)+":00-"+t._s(t.exceptionData.time)+":59 Top 3 异常问题（按崩溃设备数排名）")]),a("div",[a("Table",{attrs:{border:"",height:"183",columns:t.tmpExceptionColumns,data:t.exceptionData.data}})],1)],1),a("Row",{staticClass:"wapperTitle trendTitle"},[t._v("崩溃排行榜(按照崩溃设备数降序排列)")]),a("Card",{staticStyle:{"margin-top":"12px"}},[a("p",[a("span",[t._v("时间：")]),a("Select",{staticClass:"selectItem",on:{"on-change":t.chageSelect},model:{value:t.rank_time,callback:function(e){t.rank_time=e},expression:"rank_time"}},t._l(t.allTimesOptions,(function(e,n){return a("Option",{key:n,attrs:{value:e.id}},[t._v(t._s(e.value))])})),1),a("span",[t._v("应用版本：")]),a("Select",{staticClass:"selectItem",on:{"on-change":t.chageSelect},model:{value:t.rank_version,callback:function(e){t.rank_version=e},expression:"rank_version"}},t._l(t.allVersion,(function(e,n){return a("Option",{key:n,attrs:{value:e}},[t._v(t._s(e))])})),1),a("span",[t._v("设备品牌：")]),a("Select",{staticClass:"selectItem",attrs:{filterable:""},on:{"on-change":t.chageSelect},model:{value:t.brand,callback:function(e){t.brand=e},expression:"brand"}},t._l(t.allBrand,(function(e,n){return a("Option",{key:n,attrs:{value:e}},[t._v(t._s(e))])})),1)],1),a("div",{staticClass:"rankList"},[t.allExceptionRank&&t.allExceptionRank.appversion&&t.allExceptionRank.appversion.length>0?a("Row",t._l(t.allExceptionRank,(function(e,n){return a("Col",{key:n,attrs:{span:"8"}},[a("Row",[a("Col",{attrs:{span:"10"}},[a("span",{staticClass:"rankTitle"},[t._v(t._s("osversion"===n?"系统版本":"appversion"===n?"应用版本":"设备品牌")+"Top 5")])]),a("Col",{attrs:{span:"14"}},[a("p",{staticClass:"rank_title",staticStyle:{"text-align":"right"}},[a("span",[t._v("崩溃率")]),a("Divider",{attrs:{type:"vertical"}}),a("span",[t._v("崩溃设备数")]),a("Divider",{attrs:{type:"vertical"}}),a("span",[t._v("联网设备数")])],1)])],1),t._l(e,(function(e,n){return a("Row",{key:n,staticStyle:{"margin-bottom":"12px"}},[a("Col",{attrs:{span:"12"}},[a("span",[t._v(t._s(e.name?e.name:"name"))])]),a("Col",{attrs:{span:"12"}},[a("div",{staticStyle:{"text-align":"right"}},[t._v("\n                    "+t._s(e.count1)+"\n                    "),a("Divider",{attrs:{type:"vertical"}}),a("span",{attrs:{href:"#"}},[t._v(" "+t._s(e.count2))]),a("Divider",{attrs:{type:"vertical"}}),a("span",{attrs:{href:"#"}},[t._v(" "+t._s(e.count3))])],1)]),a("Progress",{staticStyle:{"margin-top":"9px"},attrs:{percent:e.count4,"hide-info":""}})],1)}))],2)})),1):a("Row",[a("div",{staticClass:"no_data"},[t._v("暂无数据")])])],1),a("div",[a("p",{staticClass:"weightWord"},[t._v("Top20异常问题")]),a("Table",{attrs:{border:"",columns:t.tmpCollapseColumns,data:t.todayRankData}})],1)])],1)},r=[],i=(a("8e6e"),a("456d"),a("ac6a"),a("5df3"),a("28a5"),a("ade3")),s=a("97ea"),o=a("c276"),c=a("2f62"),l=a("9c6c0"),u=a("6612"),d=a.n(u),p=(a("0a8d"),a("1157")),h=a.n(p);function m(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function _(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?m(Object(a),!0).forEach((function(e){Object(i["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var v={name:"index",components:{BasicLineChart:s["a"]},data:function(){return{fieldFormaters:{crash_rate:"0,0.00%"},tableLoading:!1,loading:!1,currentAppId:"",trend_time:"today",trend_version:"all",rank_time:"today",rank_version:"all",brand:"all",allTimesOptions:l["d"],tabItem:"crash_rate",tabItemArr:[{id:"crash_rate",title:"设备崩溃率"},{id:"crash_users",title:"崩溃设备数"},{id:"crash_count",title:"崩溃次数"},{id:"online_users",title:"联网设备数"}],chartDataItem:{seriesData:[{data:[],name:"",type:"line",label:{show:!0}}],xData:[]},tmpExceptionColumns:[],tmpCollapseColumns:[],allExceptionRank:{}}},computed:_({},Object(c["d"])({allApp:function(t){var e=t.crash_view.allApp;return e},tmpCrashCurrentAppId:function(t){return t.crash_view.tmpCurrentAppId},dataStatistics:function(t){return t.crash_view.dataStatistics},allVersion:function(t){return t.crash_view.allVersion},allBrand:function(t){return t.crash_view.allBrand},eachDhartData:function(t){return t.crash_view.eachDhartData},exceptionData:function(t){return t.crash_view.exceptionData},todayRankData:function(t){return t.crash_view.todayRankData}})),methods:_(_({},Object(c["b"])(["getAllCrashApp","getAllVersion","getAllBrand","getViewData","getAppChartData","getCurrentrankData","getExceptionRankData","getTodayRankData"])),{},{changeTabs:function(){},chageSelect:function(){localStorage.removeItem("search-params"),this.getOthersData()},getAllData:function(t){var e=this;this.loading=!0,this.getAllCrashApp().then((function(a){a&&e.getOthersData(t)})).catch((function(t){e.$Message.error(t.message)}))},getOthersData:function(t){var e=this,a=Object(o["k"])("search-params")?JSON.parse(Object(o["k"])("search-params")):{};a.trend_time?(this.trend_time=a.trend_time,this.trend_version=a.trend_version,this.rank_time=a.rank_time,this.rank_version=a.rank_version,this.brand=a.brand):1===t&&(this.trend_time="today",this.trend_version="all",this.rank_time="today",this.rank_version="all",this.brand="all"),this.loading=!0;var n=this.tmpCrashCurrentAppId?this.tmpCrashCurrentAppId:this.allApp[0].id,r=n&&n.split("_"),i={package_name:r&&r[0],platform:r&&r[1]};this.getAllVersion(i).then((function(t){})).catch((function(t){e.$Message.error(t.message)})),this.getAllBrand(i).then((function(t){})).catch((function(t){e.$Message.error(t.message)})),this.getViewData(i).then((function(t){})).catch((function(t){e.$Message.error(t.message)}));var s=_(_({},i),{},{version:this.trend_version,date:this.trend_time});this.getAppChartData(s).then((function(t){})).catch((function(t){e.$Message.error(t.message)})),this.getCurrentrankData(i).then((function(t){})).catch((function(t){e.$Message.error(t.message)}));var c=_(_({},i),{},{version:this.rank_version,date:this.rank_time,brand:this.brand});Promise.all([this.getExceptionRankData(c),this.getTodayRankData(c)]).then((function(t){e.loading=!1,e.allExceptionRank=t[0]}))},setItemStyle:function(){h()("#content-wrapper")&&h()("#content-wrapper").scrollTop(10);var t=this.tabItem,e=this.chartDataItem.xData?parseInt(this.chartDataItem.xData.length/8):7;this.chartDataItem.seriesData[0].itemStyle={normal:{label:{show:!0,formatter:function(a){if(a.dataIndex%(e+1)!==0)return"";var n="crash_rate"===t?"0,0.00%":"";return d()(a.value).format(n)}}}}},clickCrashName:function(t){var e=this.tmpCrashCurrentAppId&&this.tmpCrashCurrentAppId.split("_"),a={package_name:e&&e[0],platform:e&&e[1]},n={trend_time:this.trend_time,trend_version:this.trend_version,rank_time:this.rank_time,rank_version:this.rank_version,brand:this.brand};Object(o["l"])("search-params",JSON.stringify(n)),this.$router.push({name:"crash_detail",params:{crashAppId:this.tmpCrashCurrentAppId,package_name:a.package_name,platform:a.platform,crash_num:t.row.crash_num,crash_line:t.row.crash_line,crash_name:t.row.crash_name,pathObj:{icon:"ios-pulse",name:"crash_view",meta:{access:["crash_view","all"],icon:"ios-pulse",title:"崩溃概览",beforeCloseName:"before_close_normal"}}}})},beforeunloadHandler:function(t){var e=this.$route.path,a=e.indexOf("/crash-view")>-1;a&&localStorage.clear()}}),mounted:function(){var t=this;window.addEventListener("beforeunload",(function(e){return t.beforeunloadHandler(e)})),this.tmpExceptionColumns=Object(l["g"])(this),this.tmpCollapseColumns=Object(l["f"])(this),history.pushState(null,null,document.URL),window.addEventListener("popstate",(function(){history.pushState(null,null,document.URL)})),localStorage.removeItem("search-params-firebase"),h()("#content-wrapper")&&h()("#content-wrapper").scrollTop(10)},beforeunload:function(){localStorage.clear()},destroyed:function(){},watch:{eachDhartData:{immediate:!0,handler:function(t){this.chartDataItem.xData=t.xAxis,this.chartDataItem.seriesData[0].data=t[this.tabItem],this.setItemStyle()}},tabItem:{immediate:!0,handler:function(t){this.chartDataItem.xData=this.eachDhartData.xAxis,this.chartDataItem.seriesData[0].data=this.eachDhartData[t],this.setItemStyle()}},tmpCrashCurrentAppId:{immediate:!0,handler:function(t){this.getAllData(1)}}}},f=v,k=a("2877"),g=Object(k["a"])(f,n,r,!1,null,null,null);e["default"]=g.exports}}]);