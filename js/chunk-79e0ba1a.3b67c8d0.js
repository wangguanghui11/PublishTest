(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-79e0ba1a"],{"45ea":function(t,e,i){},"6c69":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Row",[i("page-filter",{ref:"pageFilter",attrs:{loading:t.tableLoading,"page-rooter":"abroadCohort"},on:{"on-filter-apply":t.onFilterApply}})],1),i("Row",{directives:[{name:"show",rawName:"v-show",value:null==t.tableData||t.tableData.length>0||t.tableLoading,expression:"tableData==null || tableData.length > 0 || tableLoading"}],staticStyle:{"margin-top":"5px"}},[i("Card",{attrs:{shadow:""}},[i("a-select",{staticStyle:{width:"250px","margin-bottom":"10px"},attrs:{mode:"multiple",allowClear:"",filterable:"",showArrow:"","max-tag-count":1,"max-tag-text-length":20,placeholder:"columns-all",optionFilterProp:"children"},on:{change:function(e){return t.handleColumnsChange()}},model:{value:t.selectColumns,callback:function(e){t.selectColumns=e},expression:"selectColumns"}},t._l(t.allColumns,(function(e){return i("Option",{key:e.key,attrs:{value:e.key}},[t._v(t._s(e.label))])})),1),i("Table",{attrs:{data:t.tableData,columns:t.columns,border:"",loading:t.tableLoading,height:t.tableHeight},on:{"on-sort-change":t.handleSortChange}}),i("Row",{staticStyle:{"text-align":"center"}},[i("Page",{ref:"tablePages",attrs:{"page-size":t.currPageSize,total:t.total_num,current:1,"page-size-opts":[10,20,30,50,100],"show-sizer":"","show-total":"","show-elevator":""},on:{"on-change":t.pageChange,"on-page-size-change":t.pageSizeChange}})],1)],1)],1),i("div",{directives:[{name:"show",rawName:"v-show",value:null!=t.tableData&&t.tableData.length<=0&&!t.tableLoading,expression:"tableData!=null && tableData.length <= 0 && !tableLoading"}],staticStyle:{"text-align":"center","margin-top":"10px"}},[i("span",{staticStyle:{"font-size":"15px"}},[t._v("暂无数据")])]),i("Modal",{attrs:{"footer-hide":!0,width:840,"mask-closable":!1},model:{value:t.showCountryLogState,callback:function(e){t.showCountryLogState=e},expression:"showCountryLogState"}},[i("h2",[t._v("国家更新记录")]),i("div",{staticStyle:{height:"45px","margin-bottom":"5px","margin-top":"20px"}},[i("div",{staticStyle:{float:"left",width:"40px",height:"40px"}},[i("img",{staticStyle:{"object-fit":"contain"},attrs:{width:"100%",height:"100%",src:t.iconUrl}})]),i("div",{staticStyle:{"margin-left":"20px",float:"left",width:"300px"}},[t._v(t._s(t.appName))])]),t.showCountryLogState?i("div",{staticStyle:{width:"800px",height:"450px"}},[i("Table",{attrs:{data:t.countryLogData,columns:t.countryLogColumns,border:"",loading:t.countryLogLoading,height:"450"}})],1):t._e()]),i("Modal",{attrs:{"footer-hide":!0,width:552,"mask-closable":!1},model:{value:t.showHeaderImageState,callback:function(e){t.showHeaderImageState=e},expression:"showHeaderImageState"}},[i("h2",[t._v("商店头图")]),i("div",{staticStyle:{"border-bottom":"1px solid gray",height:"45px","margin-bottom":"5px","margin-top":"20px"}},[i("div",{staticStyle:{float:"left",width:"40px",height:"40px"}},[i("img",{staticStyle:{"object-fit":"contain"},attrs:{width:"100%",height:"100%",src:t.iconUrl}})]),i("div",{staticStyle:{"margin-left":"20px",float:"left",width:"300px"}},[t._v(t._s(t.appName))])]),t.showHeaderImageState?i("div",{staticStyle:{width:"512px",height:"250px","background-color":"black"}},[i("img",{staticStyle:{"object-fit":"contain"},attrs:{width:"100%",height:"100%",src:t.headerImageUrl}})]):t._e()]),i("Modal",{attrs:{"footer-hide":!0,width:1040,"mask-closable":!1},model:{value:t.showDirection,callback:function(e){t.showDirection=e},expression:"showDirection"}},[i("h2",[t._v("量级趋势")]),i("div",{staticStyle:{"border-bottom":"1px solid gray",height:"45px","margin-bottom":"5px","margin-top":"20px"}},[i("div",{staticStyle:{float:"left",width:"40px",height:"40px"}},[i("img",{staticStyle:{"object-fit":"contain"},attrs:{width:"100%",height:"100%",src:t.iconUrl}})]),i("div",{staticStyle:{"margin-left":"20px",float:"left",width:"300px"}},[t._v(t._s(t.appName))])]),i("div",{staticStyle:{width:"1000px",height:"600px"}},[i("canvas",{attrs:{id:"directionCanvas",width:"1000",height:"600"}})])]),i("Modal",{attrs:{"footer-hide":!0,width:662,"mask-closable":!1},model:{value:t.showScreenShort,callback:function(e){t.showScreenShort=e},expression:"showScreenShort"}},[i("h2",[t._v("商店图")]),i("div",{staticStyle:{"border-bottom":"1px solid gray",height:"45px","margin-bottom":"5px","margin-top":"20px"}},[i("div",{staticStyle:{float:"left",width:"40px",height:"40px"}},[i("img",{staticStyle:{"object-fit":"contain"},attrs:{width:"100%",height:"100%",src:t.iconUrl}})]),i("div",{staticStyle:{"margin-left":"20px",float:"left",width:"300px"}},[t._v(t._s(t.appName))])]),t.showScreenShort?i("div",{staticStyle:{width:"622px",height:"512px"}},[i("Carousel",{staticClass:"shop-image",attrs:{loop:"",arrow:"always",dots:"outside"}},t._l(t.screenShots,(function(t){return i("CarouselItem",{key:t},[i("div",{staticStyle:{"margin-left":"55px",width:"512px",height:"512px"}},[i("img",{staticStyle:{"object-fit":"contain"},attrs:{width:"100%",height:"100%",src:t}})])])})),1)],1):t._e(),i("div",{staticStyle:{width:"512px",height:"20px"}})]),i("Modal",{attrs:{"footer-hide":!0,width:640,"mask-closable":!1},model:{value:t.showShopVideoState,callback:function(e){t.showShopVideoState=e},expression:"showShopVideoState"}},[i("h2",[t._v("商店视频")]),i("div",{staticStyle:{"border-bottom":"1px solid gray",height:"45px","margin-bottom":"5px","margin-top":"20px"}},[i("div",{staticStyle:{float:"left",width:"40px",height:"40px"}},[i("img",{staticStyle:{"object-fit":"contain"},attrs:{width:"100%",height:"100%",src:t.iconUrl}})]),i("div",{staticStyle:{"margin-left":"20px",float:"left",width:"300px"}},[t._v(t._s(t.appName))])]),t.showShopVideoState?i("div",{staticStyle:{"margin-bottom":"50px",width:"600px",height:"400px","background-color":"black"}},[i("iframe",{staticStyle:{"object-fit":"contain"},attrs:{src:t.shopVideoUrl,width:"100%",height:"100%",frameborder:"0",scrolling:"yes"}})]):t._e()]),i("Modal",{attrs:{"footer-hide":!0,width:880,"mask-closable":!1},model:{value:t.showMeterialState,callback:function(e){t.showMeterialState=e},expression:"showMeterialState"}},[i("h2",[t._v("素材")]),t.showMeterialState?i("div",{staticStyle:{width:"850px",height:"450px"}},[i("div",{staticStyle:{width:"500px",height:"450px",float:"left","border-right":"1px solid gray",padding:"25px"}},[i("div",{staticStyle:{width:"450px",height:"60px","word-wrap":"break-word","word-break":"normal"}},[t._v(t._s(t.meterialDescribe))]),"1"===t.meterialType?i("div",{staticStyle:{width:"450px",height:"350px","background-color":"black"}},[i("img",{staticStyle:{"object-fit":"contain"},attrs:{width:"100%",height:"100%",src:t.meterialUrl}})]):t._e(),"2"===t.meterialType?i("div",{staticStyle:{width:"450px",height:"350px","background-color":"black"}},[i("video",{attrs:{width:"100%",height:"100%",controls:"",autoplay:"",loop:""}},[i("source",{attrs:{src:t.meterialUrl,type:"video/mp4"}})])]):t._e(),"4"===t.meterialType?i("div",{staticStyle:{width:"450px",height:"350px","background-color":"black","text-align":"center"}},[i("iframe",{staticStyle:{"object-fit":"contain"},attrs:{src:t.meterialUrl,width:"100%",height:"100%",frameborder:"0",scrolling:"yes"}})]):t._e()]),i("div",{staticStyle:{width:"350px",height:"450px",float:"left",padding:"25px"}},[i("div",{staticStyle:{"border-bottom":"1px solid gray",padding:"10px"}},[i("span",[t._v("日期：")]),i("span",[t._v(t._s(t.meterialDateRange))])]),i("div",{staticStyle:{"border-bottom":"1px solid gray",padding:"15px",height:"90px"}},[i("div",{staticStyle:{float:"left","border-right":"1px solid gray",width:"90px","text-align":"center"}},[i("div",{staticStyle:{color:"blue","font-size":"20px"}},[t._v(t._s(t.meterialEstimate))]),i("div",[t._v("展现估算")])]),i("div",{staticStyle:{float:"left","border-right":"1px solid gray",width:"90px","text-align":"center"}},[i("div",{staticStyle:{color:"blue","font-size":"20px"}},[t._v(t._s(t.meterialPutTime))]),i("div",[t._v("投放天数")])]),i("div",{staticStyle:{float:"left",width:"90px","text-align":"center"}},[i("div",{staticStyle:{color:"blue","font-size":"20px"}},[t._v(t._s(t.meterialHot))]),i("div",[t._v("热度")])])]),i("div",{staticStyle:{"border-bottom":"1px solid gray",padding:"15px",height:"100px"}},[i("div",{staticStyle:{"padding-bottom":"25px"}},[i("div",{staticStyle:{float:"left",width:"90px"}},[t._v("投放渠道")]),i("div",{staticStyle:{float:"left",width:"180px"}},[t._v(t._s(t.meterialChannel))])]),i("div",{staticStyle:{"padding-bottom":"25px"}},[i("div",{staticStyle:{float:"left",width:"90px"}},[t._v("关联广告")]),i("div",{staticStyle:{float:"left",width:"180px"}},[t._v(t._s(t.meterialAdCount))])]),i("div",{staticStyle:{"padding-bottom":"25px"}},[i("div",{staticStyle:{float:"left",width:"90px"}},[t._v("素材类型")]),i("div",{staticStyle:{float:"left",width:"180px"}},[t._v(t._s(t.meterialTypeDescribe))])])]),i("div",{staticStyle:{"border-bottom":"1px solid gray",padding:"15px",height:"90px"}},[i("div",{staticStyle:{"padding-bottom":"25px"}},[i("div",{staticStyle:{float:"left",width:"60px",height:"60px"}},[i("img",{staticStyle:{"object-fit":"contain"},attrs:{width:"100%",height:"100%",src:t.iconUrl}})]),i("div",{staticStyle:{"margin-left":"20px",float:"left",width:"180px"}},[t._v(t._s(t.appName))])])]),i("div",{staticStyle:{"margin-top":"20px"}},[i("Button",{on:{click:t.handleGotoShop}},[t._v("Play Game")])],1)])]):t._e()]),i("Modal",{attrs:{"footer-hide":!0,width:790,"mask-closable":!1},model:{value:t.showDiscussState,callback:function(e){t.showDiscussState=e},expression:"showDiscussState"}},[i("h2",[t._v("1星评论")]),i("div",{staticStyle:{height:"45px","margin-bottom":"5px","margin-top":"20px"}},[i("div",{staticStyle:{float:"left",width:"40px",height:"40px"}},[i("img",{staticStyle:{"object-fit":"contain"},attrs:{width:"100%",height:"100%",src:t.iconUrl}})]),i("div",{staticStyle:{"margin-left":"20px",float:"left",width:"300px"}},[t._v(t._s(t.appName))])]),t.showDiscussState?i("div",{staticStyle:{width:"750px",height:"523px"}},[i("Table",{attrs:{data:t.discussData,columns:t.discussColumns,border:"",loading:t.discussLoading,height:"523"}})],1):t._e()]),i("Modal",{attrs:{"footer-hide":!0,width:720,"mask-closable":!1},model:{value:t.showDevelopLogState,callback:function(e){t.showDevelopLogState=e},expression:"showDevelopLogState"}},[i("h2",[t._v("开发者转移记录")]),i("div",{staticStyle:{height:"45px","margin-bottom":"5px","margin-top":"20px"}},[i("div",{staticStyle:{float:"left",width:"40px",height:"40px"}},[i("img",{staticStyle:{"object-fit":"contain"},attrs:{width:"100%",height:"100%",src:t.iconUrl}})]),i("div",{staticStyle:{"margin-left":"20px",float:"left",width:"300px"}},[t._v(t._s(t.appName))])]),t.showDevelopLogState?i("div",{staticStyle:{width:"680px",height:"523px"}},[i("Table",{attrs:{data:t.developLogData,columns:t.developLogColumns,border:"",loading:t.developLogLoading,height:"523"}})],1):t._e()])],1)},n=[],o=(i("8e6e"),i("456d"),i("ac6a"),i("28a5"),i("ade3")),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Card",{ref:"filter",staticClass:"filter-selection"},[i("div",[i("a-select",{staticClass:"inline-width",staticStyle:{"font-size":"12px"},attrs:{mode:"multiple",allowClear:"",autoClearSearchValue:!1,filterable:"",showArrow:"","max-tag-count":this.maxTagArr[0],"max-tag-text-length":this.maxTagTextArr[0],placeholder:"平台-全部",optionFilterProp:"children"},on:{focus:function(e){return t.focusFun(0)},blur:function(e){return t.blurFun()},mouseenter:function(e){return t.mouseenterFun(0)},mouseleave:function(e){return t.mouseleaveFun()}},scopedSlots:t._u([{key:"dropdownRender",fn:function(e){return i("div",{},[i("v-nodes",{attrs:{vnodes:e}}),i("a-divider",{staticClass:"select-all-divider"}),i("div",{staticClass:"select-all-div",on:{mousedown:function(t){return t.preventDefault()}}},[i("span",{staticClass:"select-all-span"},[t._v(t._s(t.platforms.length)+"/"+t._s(t.allPlatform.length))]),i("Button",{attrs:{type:"primary"},on:{click:function(e){t.platforms=t.allPlatform.map((function(t){return t.id}))}}},[t._v("全选")])],1)],1)}}]),model:{value:t.platforms,callback:function(e){t.platforms=e},expression:"platforms"}},t._l(t.allPlatform,(function(e){return i("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])})),1),i("a-select",{staticClass:"inline-width",staticStyle:{"font-size":"12px"},attrs:{mode:"multiple",allowClear:"",autoClearSearchValue:!1,filterable:"",showArrow:"","max-tag-count":this.maxTagArr[1],"max-tag-text-length":this.maxTagTextArr[1],placeholder:"当前状态-全部",optionFilterProp:"children"},on:{focus:function(e){return t.focusFun(1)},blur:function(e){return t.blurFun()},mouseenter:function(e){return t.mouseenterFun(1)},mouseleave:function(e){return t.mouseleaveFun()}},scopedSlots:t._u([{key:"dropdownRender",fn:function(e){return i("div",{},[i("v-nodes",{attrs:{vnodes:e}}),i("a-divider",{staticClass:"select-all-divider"}),i("div",{staticClass:"select-all-div",on:{mousedown:function(t){return t.preventDefault()}}},[i("span",{staticClass:"select-all-span"},[t._v(t._s(t.states.length)+"/"+t._s(t.allState.length))]),i("Button",{attrs:{type:"primary"},on:{click:function(e){t.states=t.allState.map((function(t){return t.id}))}}},[t._v("全选")])],1)],1)}}]),model:{value:t.states,callback:function(e){t.states=e},expression:"states"}},t._l(t.allState,(function(e){return i("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])})),1),i("a-select",{staticClass:"inline-width",staticStyle:{"font-size":"12px"},attrs:{mode:"multiple",allowClear:"",autoClearSearchValue:!1,filterable:"",showArrow:"","max-tag-count":this.maxTagArr[2],"max-tag-text-length":this.maxTagTextArr[2],placeholder:"游戏类型-全部",optionFilterProp:"children"},on:{focus:function(e){return t.focusFun(2)},blur:function(e){return t.blurFun()},mouseenter:function(e){return t.mouseenterFun(2)},mouseleave:function(e){return t.mouseleaveFun()}},scopedSlots:t._u([{key:"dropdownRender",fn:function(e){return i("div",{},[i("v-nodes",{attrs:{vnodes:e}}),i("a-divider",{staticClass:"select-all-divider"}),i("div",{staticClass:"select-all-div",on:{mousedown:function(t){return t.preventDefault()}}},[i("span",{staticClass:"select-all-span"},[t._v(t._s(t.types.length)+"/"+t._s(t.allType.length))]),i("Button",{attrs:{type:"primary"},on:{click:function(e){t.types=t.allType}}},[t._v("全选")])],1)],1)}}]),model:{value:t.types,callback:function(e){t.types=e},expression:"types"}},t._l(t.allType,(function(e){return i("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1),i("div",{staticStyle:{"margin-bottom":"10px"}},[i("span",[t._v("App Name 包含：")]),i("Input",{staticStyle:{width:"180px","margin-right":"10px"},attrs:{placeholder:"输入关键词"},model:{value:t.apps,callback:function(e){t.apps=e},expression:"apps"}}),i("span",[t._v("开发者 包含：")]),i("Input",{staticStyle:{width:"180px","margin-right":"10px"},attrs:{placeholder:"输入关键词"},model:{value:t.developers,callback:function(e){t.developers=e},expression:"developers"}}),i("span",[t._v("包名 包含：")]),i("Input",{staticStyle:{width:"180px","margin-right":"10px"},attrs:{placeholder:"输入关键词"},model:{value:t.names,callback:function(e){t.names=e},expression:"names"}})],1),i("div",[i("span",[t._v("Eva发布日期: ")]),i("DatePicker",{staticClass:"inline-width",attrs:{type:"daterange",options:t.daterangeoption,clearable:!1,placement:"bottom-start",placeholder:"选择日期范围"},model:{value:t.rangeDates,callback:function(e){t.rangeDates=e},expression:"rangeDates"}})],1)],1),i("div",[t._l(t.filters,(function(e){return i("div",{key:e.filter,staticStyle:{float:"left"}},[i("span",[t._v(t._s(t.allFilter.filter((function(t){return t.id===e.filter}))[0].name)+": ")]),i("span",[t._v(t._s(e.min))]),i("span",[t._v("到")]),i("span",[t._v(t._s(e.max))]),i("Button",{staticStyle:{"padding-left":"3px","padding-top":"2px",color:"blue"},attrs:{type:"text"},on:{click:function(i){return t.handleDeleteFilter(e.filter)}}},[t._v("X")])],1)})),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.showAdd,expression:"!showAdd"}],staticStyle:{"margin-bottom":"10px"}},[i("a-select",{staticStyle:{"font-size":"12px",display:"inline-block",width:"160px","margin-right":"10px","margin-bottom":"12px"},attrs:{allowClear:"",filterable:"",showArrow:"","max-tag-count":1,"max-tag-text-length":20,placeholder:"选择条件",optionFilterProp:"children"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}},t._l(t.allFilter.filter((function(e){return t.filters.findIndex((function(t){return t.filter===e.id}))<0})),(function(e){return i("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])})),1),i("span",[t._v("属于")]),i("Input",{staticStyle:{width:"100px","margin-left":"10px"},attrs:{type:"number",placeholder:"最低值"},model:{value:t.filterMin,callback:function(e){t.filterMin=e},expression:"filterMin"}}),i("span",[t._v("--")]),i("Input",{staticStyle:{width:"100px","margin-right":"10px"},attrs:{type:"number",placeholder:"最高值"},model:{value:t.filterMax,callback:function(e){t.filterMax=e},expression:"filterMax"}}),i("Button",{attrs:{disabled:null==t.filter||""===t.filterMin||""===t.filterMax||null==t.filterMin||null==t.filterMax||parseFloat(t.filterMax)<parseFloat(t.filterMin),type:"primary"},on:{click:t.handleAddOk}},[t._v("确定")]),i("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:t.handleAddCancel}},[t._v("取消")])],1),i("Button",{directives:[{name:"show",rawName:"v-show",value:t.showAdd,expression:"showAdd"}],attrs:{type:"primary"},on:{click:t.handleAddFilter}},[t._v("添加筛选条件")]),i("Button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",disabled:t.loading},on:{click:t.handleSubmit}},[t._v("Apply Filter")])],2),i("div",{staticClass:"optionsContents",attrs:{id:"optionsContent"}},t._l(t.tmpOptions,(function(e){return i("li",{key:e},[t._v(t._s(e))])})),0)])},r=[],s=(i("5df3"),i("7f7f"),i("20d6"),i("2f62")),c=i("90de"),h=i("4b65"),d=i("9839"),p=(i("1ef0"),i("1157")),u=i.n(p);function m(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function f(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?m(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var g={name:"page-filter",components:{ASelect:d["d"],Option:d["d"].Option,VNodes:{functional:!0,render:function(t,e){return e.props.vnodes}}},props:{pageAeo:{type:Boolean,default:function(){return!1}},pageRooter:{type:String,default:function(){return null}},loading:{type:Boolean,default:function(){return!1}}},data:function(){return{platforms:[],apps:"",states:[],types:[],developers:"",names:"",allPlatform:[],allState:[],allType:[],daterangeoption:{},rangeDates:[],filters:[],filter:void 0,filterMin:void 0,filterMax:void 0,showAdd:!0,allFilter:[{id:"maxInstalls",name:"总量级"},{id:"increment",name:"监测以来增量"},{id:"show_time",name:"上架天数"},{id:"trace_time",name:"监测天数"},{id:"vaild_count",name:"有量级的天数"},{id:"increment_per_day",name:"监测后日均增量"},{id:"have_weight_increment_per_day",name:"增量天内日均增量"},{id:"max_increment",name:"单天最大新增量级"}],maxTagArr:[1,1,1,1,1,1,1,1,1,1],maxTagTextArr:[20,20,20,20,20,20,20,20,20,20],tmpAllOptions:[],tmpOptions:[],mark:0}},methods:f(f({},Object(s["b"])(["getAllExcavationPlatform","getAllExcavationState","getAllExcavationType"])),{},{handleSubmit:function(t){var e={platform:this.platforms,title:this.apps,state:this.states,genreId:this.types,developer:this.developers,package_name:this.names,rangeDates:this.rangeDates,filter:this.filters};this.$emit("on-filter-apply",e)},handleAddFilter:function(){this.filter=void 0,this.filterMin=void 0,this.filterMax=void 0,this.showAdd=!1},handleDeleteFilter:function(t){this.filters=this.filters.filter((function(e){return e.filter!==t}))},handleAddOk:function(){this.showAdd=!0,this.filters.push({filter:this.filter,min:this.filterMin,max:this.filterMax})},handleAddCancel:function(){this.showAdd=!0},maxTagCountfun:function(t){return this.maxTagCountObj&&this.maxTagCountObj[t]?this.maxTagCountObj[t]:1},focusFun:function(t){this.mark=1,u()("#optionsContent").length&&u()("#optionsContent").css({display:"none"}),this.maxTagArr=[1,1,1,1,1,1,1,1,1,1,1],this.maxTagTextArr=[20,20,20,20,20,20,20,20,20,20];var e=this;setTimeout((function(){e.maxTagArr.splice(t,0,10),e.maxTagTextArr.splice(t,0,100)}),500)},blurFun:function(){this.mark=0,this.maxTagArr.findIndex((function(t){return 10===t}))>=0&&(this.maxTagArr=[1,1,1,1,1,1,1,1,1,1],this.maxTagTextArr=[20,20,20,20,20,20,20,20,20,20]),this.setItemValues()},mouseenterFun:function(t){if(1!==this.mark){this.tmpOptions=this.tmpAllOptions[t];var e=Object(h["g"])(this.$refs["filter"].$el.clientWidth,t),i=document.getElementById("optionsContent");u()("#optionsContent").length&&this.tmpOptions&&this.tmpOptions.length>0&&i&&(u()("#optionsContent").css({display:"block",left:e.left+"px"}),i.style.setProperty("top",e.top+"px","important"))}},mouseleaveFun:function(){this.hideContentItem(),this.setItemValues()},setItemValues:function(){var t=this,e=[];this.platforms&&this.platforms.map((function(i,a){t.allPlatform&&t.allPlatform.map((function(t,a){t.id===i&&e.push(t.name)}))})),this.tmpAllOptions[0]=e,e=[],this.states&&this.states.map((function(i,a){t.allState&&t.allState.map((function(t,a){t.id===i&&e.push(t.name)}))})),this.tmpAllOptions[1]=e,this.tmpAllOptions[2]=this.types},getFilter:function(){return{platform:this.platforms,title:this.apps,state:this.states,genreId:this.types,developer:this.developers,package_name:this.names,filter:this.filters,rangeDates:[Object(h["c"])(this.rangeDates[0]),Object(h["c"])(this.rangeDates[1])],time_type:Object(h["i"])(this.rangeDates)}},setFilter:function(t){this.platforms=t.platform,this.apps=t.title,this.states=t.state,this.types=t.genreId,this.developers=t.developer,this.names=t.package_name,this.filters=t.filter,this.rangeDates=t.rangeDates,t.time_type&&(this.rangeDates=Object(c["f"])(t.time_type))},hideContentItem:function(){u()("#optionsContent").length&&u()("#optionsContent").css({display:"none"})}}),mounted:function(){var t=this;this.daterangeoption=Object(c["b"])(),Promise.all([this.getAllExcavationPlatform(),this.getAllExcavationState(),this.getAllExcavationType()]).then((function(e){t.allPlatform=e[0],t.allState=e[1],t.allType=e[2]}))},created:function(){this.rangeDates=Object(c["f"])("1 week")}},v=g,y=(i("b30c"),i("2877")),w=Object(y["a"])(v,l,r,!1,null,"e6101096",null),b=w.exports,x=i("6612"),S=i.n(x),_=function(t,e,a){for(var n=[{type:"index",title:"序号",fixed:"left",width:70},{title:"App Name",key:"title",fixed:"left",tooltip:!0,width:"150",sortable:"custom"},{title:"前往商店页",key:"url",fixed:"left",tooltip:!0,width:"120",render:function(t,e){return e.row.url?t("a",{style:{textDecoration:"underline"},attrs:{href:e.row.url,target:"_black"}},"打开商店页"):""}}],o=function(o){var l=e[o],r=a.filter((function(t){return t.key===l}))[0],s=r.label,c="custom",h=r.width;r.nosort&&(c=!1);var d=!0;r.notip&&(d=!1);var p={title:s,key:l,tooltip:d,sortable:c,width:h};r.number&&(p.render=function(t,e){return t("span",S()(e.row[l]).format("0,0"))}),"develop_log"===l?p.render=function(e,i){return null==i.row.develop_log||""===i.row.develop_log?e("span","无"):e("a",{style:{textDecoration:"underline"},on:{click:function(){t.showDevelopLog(i.index)}}},"转移明细")}:"direction"===l?p.render=function(e,i){return e("div",[e("canvas",{style:{height:"100px",width:"400px",margin:"0",padding:"0"},on:{click:function(){t.showChart(i.index)}},attrs:{id:"lineChart"+i.index}})])}:"icon"===l?p.render=function(t,e){return null==e.row.icon||"undefined"===e.row.icon||""===e.row.icon?t("span",""):t("div",{style:{width:"100px",height:"100px"}},[t("img",{style:{width:"100%",height:"100%","object-fit":"contain"},attrs:{src:e.row.icon}})])}:"headerImage"===l?p.render=function(e,i){return null==i.row.headerImage||"undefined"===i.row.headerImage||""===i.row.headerImage?e("span",""):e("a",{style:{width:"200px",height:"100px"}},[e("img",{style:{width:"100%",height:"100%","object-fit":"contain"},on:{click:function(){t.showHeaderImage(i.index)}},attrs:{src:i.row.headerImage}})])}:"videoImage"===l?p.render=function(e,a){return null==a.row.video||"undefined"===a.row.video||""===a.row.video||null==a.row.videoImage||"undefined"===a.row.videoImage||""===a.row.videoImage?e("span",""):e("div",{style:{width:"200px",height:"100px",position:"relative"}},[e("a",[e("img",{style:{width:"40px",height:"40px",left:"80px",top:"30px",position:"absolute","z-index":1},on:{click:function(){t.showVideo(a.row.video,a.row.icon,a.row.title)}},attrs:{src:i("c4bf")}}),e("img",{style:{width:"100%",height:"100%","z-index":0},on:{click:function(){t.showVideo(a.row.video,a.row.icon,a.row.title)}},attrs:{src:a.row.videoImage}})])])}:"screenshots"===l?p.render=function(e,i){var a=[],n=i.row.screenshots.length;n>5&&(n=5);for(var o=0;o<n;++o)a.push(e("div",{style:{"margin-left":"2px","margin-right":"2px",float:"left",width:"100px",height:"100px"}},[e("img",{style:{width:"100%",height:"100%","object-fit":"contain"},attrs:{src:i.row.screenshots[o]}})]));return e("a",{on:{click:function(){t.showScreenShots(i.index)}}},a)}:"materialContent"===l?p.render=function(e,a){var n=[],o=a.row.materialContent.length;o>5&&(o=5);for(var l=function(o){n.push(e("a",{style:{"margin-left":"2px","margin-right":"2px",float:"left",width:"100px",height:"100px",position:"relative"}},[e("img",{style:{width:"35px",height:"35px",left:"32px",top:"35px",position:"absolute","z-index":1},on:{click:function(){t.showMeterial(a.index,o)}},attrs:{src:i("c4bf")}}),e("img",{style:{width:"100%",height:"100%","object-fit":"contain","z-index":0},on:{click:function(){t.showMeterial(a.index,o)}},attrs:{src:a.row.materialContent[o].materials}})]))},r=0;r<o;++r)l(r);return n}:"appannie_release_date"===l?p.renderHeader=function(t,e){return t("span",[t("Poptip",{props:{content:"该日期为AppAnnie平台“应用概要”页面显示的初始发布日期",placement:"top",transfer:!0,trigger:"hover"}},[t("Icon",{props:{type:"ios-help-circle-outline",size:16,color:"#2d8cf0"}})]),t("span","AppAnnie初始发布日期")])}:"release_date"===l?p.renderHeader=function(t,e){return t("span",[t("Poptip",{props:{content:"该日期为Eva平台“发布监控”页面显示的发布日期",placement:"top",transfer:!0,trigger:"hover"}},[t("Icon",{props:{type:"ios-help-circle-outline",size:16,color:"#2d8cf0"}})]),t("span","EVA发布日期")])}:"country"===l?p.renderHeader=function(t,e){return t("span",[t("Poptip",{props:{content:"提供11个主要国家的上架情况，11个国家包括美国/加拿大/巴西/墨西哥/英国/菲律宾/澳大利亚/德国/韩国/日本/印度",placement:"top",transfer:!0,trigger:"hover",width:"370",wordWrap:!0}},[t("Icon",{props:{type:"ios-help-circle-outline",size:16,color:"#2d8cf0"}})]),t("span","上架国家")])}:"country_log"===l?(p.render=function(e,i){return e("a",{style:{textDecoration:"underline"},on:{click:function(){t.showCountryLog(i.index)}}},"更新明细")},p.renderHeader=function(t,e){return t("span",[t("Poptip",{props:{content:"提供11月17日之后且在BI监控时间范围内的11个主要国家变更记录，根据GP的API是否返回该应用在对应国家的数据进行判断",placement:"top",transfer:!0,trigger:"hover",width:"370",wordWrap:!0}},[t("Icon",{props:{type:"ios-help-circle-outline",size:16,color:"#2d8cf0"}})]),t("span","国家变更记录")])}):"trace_date"===l?p.render=function(t,e){return"1970-01-01"===e.row.trace_date?t("span",e.row.eva_date):t("span",e.row.trace_date)}:"discuss"===l&&(p.render=function(e,i){return null==i.row.discuss||""===i.row.discuss?e("span","无"):e("a",{style:{textDecoration:"underline"},on:{click:function(){t.showDiscuss(i.index)}}},"评论内容")}),n.push(p)},l=0;l<e.length;++l)o(l);return n},D=function(){var t=[{title:"日期",key:"date",tooltip:!0,width:"100"},{title:"更新内容",key:"updateContext",width:"340"},{title:"更新后上架国家",key:"updateUPCountry",width:"340"}];return t},k=function(){var t=[{title:"序号",type:"index",width:60,align:"center"},{title:"评论日期",key:"view_date",width:"100"},{title:"评分",key:"rating",width:"70"},{title:"App版本",key:"version",width:"130"},{title:"评论内容",key:"text",width:"370"}];return t},C=function(){var t=[{title:"序号",type:"index",width:60,align:"center"},{title:"转移日期",key:"release_note",width:"100"},{title:"原开发者",key:"old_value",width:"250"},{title:"转移后开发者",key:"new_value",width:"250"}];return t},O=(i("ca62"),i("4481")),L=i("313e"),A=i.n(L);function I(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function P(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?I(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):I(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var T={name:"new-excavation",components:{PageFilter:b,ASelect:d["d"],Option:d["d"].Option},data:function(){return{tableHeight:"395",currPageIndex:1,currPageSize:10,currSortField:{},tableLoading:!0,selectColumns:[],allColumns:[{key:"platform",label:"平台",width:"110"},{key:"developer",label:"开发者",width:"150"},{key:"develop_log",label:"开发者转移记录",width:"130",nosort:!0,notip:!0},{key:"state",label:"当前状态",width:"110"},{key:"direction",label:"量级趋势",width:"440",nosort:!0},{key:"icon",label:"Icon",width:"136",nosort:!0},{key:"genreId",label:"游戏类型",width:"120"},{key:"package_name",label:"包名",width:"180"},{key:"headerImage",label:"商店头图",width:"240",nosort:!0},{key:"videoImage",label:"商店视频",width:"240",nosort:!0},{key:"screenshots",label:"商店五图",width:"560",nosort:!0},{key:"appannie_release_date",label:"AppAnnie初始发布日期",width:"200"},{key:"release_date",label:"EVA发布日期",width:"150"},{key:"country",label:"上架国家",width:"250",nosort:!0,notip:!0},{key:"country_log",label:"国家更新记录",width:"130",nosort:!0},{key:"withdraw_date",label:"产品下架日期",width:"140"},{key:"trace_date",label:"BI开始追踪日期",width:"150"},{key:"maxInstalls",label:"总量级",width:"130",notip:!0,number:!0},{key:"increment",label:"监测以来增量",width:"140",notip:!0,number:!0},{key:"show_time",label:"上架天数",width:"130",notip:!0,number:!0},{key:"trace_time",label:"监测天数",width:"130",notip:!0,number:!0},{key:"vaild_count",label:"有量级的天数",width:"140",notip:!0,number:!0},{key:"increment_per_day",label:"监测后日均增量",width:"150",notip:!0,number:!0},{key:"have_weight_increment_per_day",label:"增量天内日均增量",width:"170",notip:!0,number:!0},{key:"max_increment",label:"单天最大新增量级",width:"170",notip:!0,number:!0},{key:"discuss",label:"1星评论",width:"100",nosort:!0,notip:!0}],showShopVideoState:!1,shopVideoUrl:"",videourl:"",showMeterialState:!1,meterialUrl:"",meterialType:0,meterialDescribe:"",meterialDateRange:"",meterialEstimate:"",meterialPutTime:"",meterialHot:"",meterialChannel:"",meterialAdCount:"",meterialTypeDescribe:"",shopUrl:"",iconUrl:"",appName:"",showScreenShort:!1,screenShots:[],showDirection:!1,showHeaderImageState:!1,headerImageUrl:"",showCountryLogState:!1,countryLogColumns:[],countryLogData:[],countryLogLoading:!0,showDiscussState:!1,discussColumns:[],discussData:[],discussLoading:!0,showDevelopLogState:!1,developLogColumns:[],developLogData:[],developLogLoading:!0,inited:!1,columns:[],currFilterApply:{}}},computed:P({},Object(s["d"])({tableData:function(t){if(!0===this.inited)return t.new_excavation.newExcavationTableData.data},total_num:function(t){if(!0===this.inited)return t.new_excavation.newExcavationTableData.total_num}})),methods:P(P({},Object(s["b"])(["getNewExcavationTableData","getCountryLog","getDiscuss","getDevelopLog"])),{},{pageChange:function(t){this.currPageIndex=t,this.updateTableData()},pageSizeChange:function(t){this.currPageIndex=1,this.currPageSize=t,this.updateTableData()},handleSortChange:function(t,e,i){this.currPageIndex=1,this.$refs["tablePages"].currentPage=1,this.currSortField={key:t.key,order:t.order},this.updateTableData()},updateTableData:function(){var t=this;this.tableLoading=!0;var e=this.wrapTableReqParams();this.getNewExcavationTableData(e).then((function(e){t.tableLoading=!1,t.inited=!0})).catch((function(e){t.tableLoading=!1,t.$Modal.error({title:"Error",content:e})}))},toFiltering:function(t){var e=[];for(var i in t)if(t[i].length>0)if("filter"===i)for(var a=0;a<t["filter"].length;a++)e.push({field:t["filter"][a].filter,operator:"BETWEEN",value:{since:t["filter"][a].min,until:t["filter"][a].max}});else"title"===i||"developer"===i||"package_name"===i?e.push({field:i,operator:"LIKE",value:t[i]}):"rangeDates"!==i&&e.push({field:i,operator:"IN",value:t[i]});return e.length>0?JSON.stringify(e):void 0},wrapTableReqParams:function(){var t={time_range:Object(h["r"])(this.currFilterApply),page:JSON.stringify({count:this.currPageIndex,size:this.currPageSize}),filtering:this.toFiltering(this.currFilterApply),sort:Object(h["p"])(this.currSortField)};return t},showVideo:function(t,e,i){this.showShopVideoState=!0,this.shopVideoUrl=t,this.iconUrl=e,this.appName=i},showScreenShots:function(t){this.iconUrl=this.tableData[t].icon,this.appName=this.tableData[t].title,this.screenShots=this.tableData[t].screenshots,this.showScreenShort=!0},showMeterial:function(t,e){if(this.meterialUrl=this.tableData[t].materialContent[e].meterialUrl[0],this.meterialType=this.tableData[t].materialContent[e].meterialType,this.meterialDescribe="undefined"===this.tableData[t].materialContent[e].meterialDescribe?"":this.tableData[t].materialContent[e].meterialDescribe,this.meterialDateRange=this.tableData[t].materialContent[e].meterialDayRange,this.meterialEstimate=this.tableData[t].materialContent[e].meterialEstimate,this.meterialPutTime=this.tableData[t].materialContent[e].meterialPutTime,this.meterialHot=this.tableData[t].materialContent[e].meterialHot,this.meterialChannel=this.tableData[t].materialContent[e].meterialChannel,this.meterialAdCount=this.tableData[t].materialContent[e].meterialAdCount,this.iconUrl=this.tableData[t].icon,this.appName=this.tableData[t].title,this.shopUrl=this.tableData[t].url,"1"===this.meterialType)this.meterialTypeDescribe="图片";else if("2"===this.meterialType)this.meterialTypeDescribe="视频";else if("3"===this.meterialType){var i=this.meterialUrl.split("."),a=i[i.length-1];this.meterialType="mp4"===a?"2":"1",this.meterialTypeDescribe="轮播"}else"4"===this.meterialType&&(this.meterialTypeDescribe="html");this.showMeterialState=!0},showHeaderImage:function(t){this.iconUrl=this.tableData[t].icon,this.appName=this.tableData[t].title,this.headerImageUrl=this.tableData[t].headerImage,this.showHeaderImageState=!0},showCountryLog:function(t){var e=this;this.iconUrl=this.tableData[t].icon,this.appName=this.tableData[t].title,this.showCountryLogState=!0,this.countryLogLoading=!0,this.countryLogData=[],this.getCountryLog(this.tableData[t].package_name).then((function(t){e.countryLogLoading=!1,e.countryLogData=t.data})).catch((function(t){e.countryLogLoading=!1,e.$Modal.error({title:"Error",content:t.message})}))},showDiscuss:function(t){var e=this;this.iconUrl=this.tableData[t].icon,this.appName=this.tableData[t].title,this.showDiscussState=!0,this.discussLoading=!0,this.discussData=[],this.getDiscuss(this.tableData[t].package_name).then((function(t){e.discussLoading=!1,e.discussData=t.data})).catch((function(t){e.discussLoading=!1,e.$Modal.error({title:"Error",content:t.message})}))},showDevelopLog:function(t){var e=this;this.iconUrl=this.tableData[t].icon,this.appName=this.tableData[t].title,this.showDevelopLogState=!0,this.developLogLoading=!0,this.developLogData=[],this.getDevelopLog(this.tableData[t].package_name).then((function(t){e.developLogLoading=!1,e.developLogData=t.data})).catch((function(t){e.developLogLoading=!1,e.$Modal.error({title:"Error",content:t.message})}))},onFilterApply:function(t){this.currPageIndex=1,this.$refs["tablePages"].currentPage=1,this.currFilterApply=JSON.parse(JSON.stringify(t)),this.updateTableData()},updateChart:function(){var t=this,e=this;null!=e.tableData&&e.tableData.forEach((function(e,i){t.paintChart(i,e)}))},handleGotoShop:function(){this.shopUrl&&""!==this.shopUrl&&window.open(this.shopUrl,"_blank")},handleColumnsChange:function(){var t=this.allColumns.map((function(t){return t.key}));this.selectColumns.length>0&&(t=this.selectColumns),this.columns=_(this,t,this.allColumns)},showChart:function(t){this.iconUrl=this.tableData[t].icon,this.appName=this.tableData[t].title,this.showDirection=!0;var e=document.getElementById("directionCanvas");if(null!=e){for(var i=null,a=0;a<this.tableData[t].direction.length;a++)(null===i||i>this.tableData[t].direction[a])&&(i=this.tableData[t].direction[a]);var n=A.a.init(e),o=parseInt(this.tableData[t].direction.length/11),l={tooltip:{trigger:"item",axisPointer:{type:"cross",label:{formatter:function(t){if("y"===t.axisDimension){var e=parseInt(t.value);return e}return t.value}}}},xAxis:{boundaryGap:!1,axisLabel:{rotate:15,interval:o},data:this.tableData[t].direction_date},yAxis:{min:i},grid:{width:"auto",containLabel:!0},animation:!1,series:[{label:{normal:{show:!0,position:"top"}},data:this.tableData[t].direction,type:"line",smooth:"true",itemStyle:{normal:{color:"#2d8cf0",label:{formatter:function(t){return t.dataIndex%(o+1)!==0?"":t.value}}}}}]};n.setOption(l)}},paintChart:function(t,e){var i=document.getElementById("lineChart"+t);if(null!=i){for(var a=null,n=[],o=0;o<e.direction.length;o++)n.push(o),(null===a||a>e.direction[o])&&(a=e.direction[o]);var l=A.a.init(i),r={xAxis:{show:!1,axisTick:{show:!1},axisLine:{show:!1},axisLabel:{show:!1},data:n},yAxis:{min:a,show:!1,splitLine:{show:!1}},grid:{top:"2%",left:"-10%",bottom:"0%",height:"95%",width:"auto",containLabel:!0},animation:!1,series:[{symbol:"none",data:e.direction,type:"line",smooth:"true",itemStyle:{normal:{color:"#2d8cf0"}}}]};l.setOption(r),l.getZr().on("mousemove",(function(t){l.getZr().setCursorStyle("pointer")}))}},onSelectPageInfo:function(t){var e=JSON.parse(t);this.$refs.pageFilter.setFilter(e.filter),this.selectColumns=e.selectColumns;var i=this.allColumns.map((function(t){return t.key}));this.selectColumns.length>0&&(i=this.selectColumns),this.columns=_(this,i,this.allColumns),delete e.filter["time_type"],e.filter.time_type&&(e.filter.rangeDates=Object(c["f"])(e.filter.time_type)),this.onFilterApply(e.filter)},onGetPageInfo:function(t){var e=this.$refs.pageFilter.getFilter(),i=JSON.stringify({filter:e,selectColumns:this.selectColumns});O["a"].$emit("setPageInfo",t,i)},_expandable:function(){var t=document.body.clientWidth,e=navigator.userAgent;t>1450?e.indexOf("Firefox")>-1?this.tableHeight="500":e.indexOf("Safari")>-1?this.tableHeight="540":this.tableHeight="480":e.indexOf("Safari")>-1?this.tableHeight="420":this.tableHeight="395"}}),mounted:function(){this.updateTableData();var t=this.allColumns.map((function(t){return t.key}));this.selectColumns.length>0&&(t=this.selectColumns),this.columns=_(this,t,this.allColumns),this.countryLogColumns=D(),this.discussColumns=k(),this.developLogColumns=C(),this.updateChart(),history.pushState(null,null,document.URL),window.addEventListener("popstate",(function(){history.pushState(null,null,document.URL)})),this._expandable();var e=this;window.onresize=function(){e._expandable()};var i=this;O["a"].$on("selectPageInfo",(function(t){i.onSelectPageInfo(t)})),O["a"].$on("getPageInfo",(function(t){i.onGetPageInfo(t)}))},beforeDestroy:function(){O["a"].$off("selectPageInfo"),O["a"].$off("getPageInfo")},updated:function(){this.inited&&this.updateChart()}},j=T,F=Object(y["a"])(j,a,n,!1,null,null,null);e["default"]=F.exports},b30c:function(t,e,i){"use strict";i("45ea")},c4bf:function(t,e,i){t.exports=i.p+"img/play.3a212944.png"}}]);